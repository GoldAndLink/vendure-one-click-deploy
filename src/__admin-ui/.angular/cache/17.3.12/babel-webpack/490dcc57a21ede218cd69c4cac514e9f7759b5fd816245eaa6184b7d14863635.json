{"ast":null,"code":"import _asyncToGenerator from \"/Users/peluche/Documents/NoursStuffs/CerisePeyi/dev/2k24/last/vendure-one-click-deploy/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/**\n * Make the downloaded blob popup in the browser.\n * Opens the PDF in new browser tab, or prompts a download if its a ZIP file\n */\nexport function downloadBlob(_x, _x2) {\n  return _downloadBlob.apply(this, arguments);\n}\n/**\n * Get the channel token and auth token from local storage\n */\nfunction _downloadBlob() {\n  _downloadBlob = _asyncToGenerator(function* (blob, fileName, openInNewTab = false) {\n    const blobUrl = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    document.body.appendChild(a);\n    a.setAttribute('hidden', 'true');\n    a.href = blobUrl;\n    if (!openInNewTab) {\n      a.download = fileName;\n    }\n    a.setAttribute('target', '_blank');\n    a.click();\n  });\n  return _downloadBlob.apply(this, arguments);\n}\nexport function getHeaders(localStorageService) {\n  const headers = {};\n  const channelToken = localStorageService.get('activeChannelToken');\n  if (channelToken) {\n    headers['vendure-token'] = channelToken;\n  }\n  const authToken = localStorageService.get('authToken');\n  if (authToken) {\n    headers.authorization = `Bearer ${authToken}`;\n  }\n  headers['Content-Type'] = 'application/json';\n  return headers;\n}","map":{"version":3,"names":["downloadBlob","_x","_x2","_downloadBlob","apply","arguments","_asyncToGenerator","blob","fileName","openInNewTab","blobUrl","window","URL","createObjectURL","a","document","createElement","body","appendChild","setAttribute","href","download","click","getHeaders","localStorageService","headers","channelToken","get","authToken","authorization"],"sources":["/Users/peluche/Documents/NoursStuffs/CerisePeyi/dev/2k24/last/vendure-one-click-deploy/src/__admin-ui/src/extensions/92aa7eafa53fed03241b9e8420384d94fa519ad8f9643a1003d2e69c3a17d771/helpers.ts"],"sourcesContent":["import { LocalStorageService } from '@vendure/admin-ui/core';\n\n/**\n * Make the downloaded blob popup in the browser.\n * Opens the PDF in new browser tab, or prompts a download if its a ZIP file\n */\nexport async function downloadBlob(\n  blob: Blob,\n  fileName: string,\n  openInNewTab = false\n): Promise<void> {\n  const blobUrl = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  document.body.appendChild(a);\n  a.setAttribute('hidden', 'true');\n  a.href = blobUrl;\n  if (!openInNewTab) {\n    a.download = fileName;\n  }\n  a.setAttribute('target', '_blank');\n  a.click();\n}\n\n/**\n * Get the channel token and auth token from local storage\n */\nexport function getHeaders(\n  localStorageService: LocalStorageService\n): Record<string, string> {\n  const headers: Record<string, string> = {};\n  const channelToken = localStorageService.get('activeChannelToken');\n  if (channelToken) {\n    headers['vendure-token'] = channelToken;\n  }\n  const authToken = localStorageService.get('authToken');\n  if (authToken) {\n    headers.authorization = `Bearer ${authToken}`;\n  }\n  headers['Content-Type'] = 'application/json';\n  return headers;\n}\n"],"mappings":";AAEA;;;;AAIA,gBAAsBA,YAAYA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,aAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAiBlC;;;AAAA,SAAAF,cAAA;EAAAA,aAAA,GAAAG,iBAAA,CAjBO,WACLC,IAAU,EACVC,QAAgB,EAChBC,YAAY,GAAG,KAAK;IAEpB,MAAMC,OAAO,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC;IAChD,MAAMO,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACrCD,QAAQ,CAACE,IAAI,CAACC,WAAW,CAACJ,CAAC,CAAC;IAC5BA,CAAC,CAACK,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC;IAChCL,CAAC,CAACM,IAAI,GAAGV,OAAO;IAChB,IAAI,CAACD,YAAY,EAAE;MACjBK,CAAC,CAACO,QAAQ,GAAGb,QAAQ;IACvB;IACAM,CAAC,CAACK,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAClCL,CAAC,CAACQ,KAAK,EAAE;EACX,CAAC;EAAA,OAAAnB,aAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAKD,OAAM,SAAUkB,UAAUA,CACxBC,mBAAwC;EAExC,MAAMC,OAAO,GAA2B,EAAE;EAC1C,MAAMC,YAAY,GAAGF,mBAAmB,CAACG,GAAG,CAAC,oBAAoB,CAAC;EAClE,IAAID,YAAY,EAAE;IAChBD,OAAO,CAAC,eAAe,CAAC,GAAGC,YAAY;EACzC;EACA,MAAME,SAAS,GAAGJ,mBAAmB,CAACG,GAAG,CAAC,WAAW,CAAC;EACtD,IAAIC,SAAS,EAAE;IACbH,OAAO,CAACI,aAAa,GAAG,UAAUD,SAAS,EAAE;EAC/C;EACAH,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAC5C,OAAOA,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}