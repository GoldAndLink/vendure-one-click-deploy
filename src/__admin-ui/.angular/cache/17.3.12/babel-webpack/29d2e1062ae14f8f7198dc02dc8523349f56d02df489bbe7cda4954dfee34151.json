{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport * as i2 from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { marker } from '@biesbjerg/ngx-translate-extract-marker';\nimport * as i1 from '@vendure/admin-ui/core';\nimport { PROMOTION_FRAGMENT, TypedBaseDetailComponent, getCustomFieldsDefaults, createUpdatedTranslatable, findTranslation, encodeConfigArgValue, getConfigArgValue, getDefaultConfigArgValue, createBulkDeleteAction, Permission, createBulkAssignToChannelAction, AssignPromotionsToChannelDocument, createBulkRemoveFromChannelAction, RemovePromotionsFromChannelDocument, ModalService, DuplicateEntityDialogComponent, TypedBaseListComponent, GetPromotionListDocument, LogicalOperator, PageComponent, detailBreadcrumb, detailComponentWithResolver, GetPromotionDetailDocument, SharedModule, PageService } from '@vendure/admin-ui/core';\nimport { gql } from 'apollo-angular';\nimport { combineLatest } from 'rxjs';\nimport { take, mergeMap, map } from 'rxjs/operators';\nimport * as i3 from '@clr/angular';\nimport * as i4 from '@angular/common';\nimport { AsyncPipe } from '@angular/common';\nimport * as i5 from '@ngx-translate/core';\nimport * as i3$1 from '@angular/router';\nimport { ROUTES, RouterModule } from '@angular/router';\nfunction PromotionDetailComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function PromotionDetailComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.create());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.saveButtonEnabled());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, \"common.create\"), \" \");\n  }\n}\nfunction PromotionDetailComponent_ng_template_12_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function PromotionDetailComponent_ng_template_12_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.save());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.saveButtonEnabled());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, \"common.update\"), \" \");\n  }\n}\nfunction PromotionDetailComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, PromotionDetailComponent_ng_template_12_button_0_Template, 3, 4, \"button\", 28);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"vdrIfPermissions\", \"UpdatePromotion\");\n  }\n}\nfunction PromotionDetailComponent_vdr_card_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"vdr-card\")(1, \"clr-toggle-wrapper\");\n    i0.ɵɵelement(2, \"input\", 29);\n    i0.ɵɵelementStart(3, \"label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"common.enabled\"));\n  }\n}\nfunction PromotionDetailComponent_vdr_card_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"vdr-card\");\n    i0.ɵɵelement(1, \"vdr-page-entity-info\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const entity_r5 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"entity\", entity_r5);\n  }\n}\nfunction PromotionDetailComponent_vdr_card_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"vdr-card\", 31);\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"vdr-tabbed-custom-fields\", 32);\n    i0.ɵɵpipe(3, \"hasPermission\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"title\", i0.ɵɵpipeBind1(1, 4, \"common.custom-fields\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"customFields\", ctx_r2.customFields)(\"customFieldsFormGroup\", ctx_r2.detailForm.get(\"customFields\"))(\"readonly\", !i0.ɵɵpipeBind1(3, 6, \"UpdatePromotion\"));\n  }\n}\nfunction PromotionDetailComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"vdr-configurable-input\", 33);\n    i0.ɵɵpipe(2, \"hasPermission\");\n    i0.ɵɵlistener(\"remove\", function PromotionDetailComponent_div_55_Template_vdr_configurable_input_remove_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeCondition($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const condition_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"position\", i_r8)(\"readonly\", !i0.ɵɵpipeBind1(2, 5, \"UpdatePromotion\"))(\"operation\", condition_r7)(\"operationDefinition\", ctx_r2.getConditionDefinition(condition_r7))(\"formControlName\", i_r8);\n  }\n}\nfunction PromotionDetailComponent_vdr_dropdown_57_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function PromotionDetailComponent_vdr_dropdown_57_button_6_Template_button_click_0_listener() {\n      const condition_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.addCondition(condition_r10));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const condition_r10 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", condition_r10.description, \" \");\n  }\n}\nfunction PromotionDetailComponent_vdr_dropdown_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"vdr-dropdown\")(1, \"button\", 34);\n    i0.ɵɵelement(2, \"clr-icon\", 35);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"vdr-dropdown-menu\", 36);\n    i0.ɵɵtemplate(6, PromotionDetailComponent_vdr_dropdown_57_button_6_Template, 2, 1, \"button\", 37);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"marketing.add-condition\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.getAvailableConditions());\n  }\n}\nfunction PromotionDetailComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"vdr-configurable-input\", 39);\n    i0.ɵɵpipe(2, \"hasPermission\");\n    i0.ɵɵlistener(\"remove\", function PromotionDetailComponent_div_60_Template_vdr_configurable_input_remove_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeAction($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const action_r12 = ctx.$implicit;\n    const i_r13 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"position\", i_r13)(\"operation\", action_r12)(\"readonly\", !i0.ɵɵpipeBind1(2, 5, \"UpdatePromotion\"))(\"operationDefinition\", ctx_r2.getActionDefinition(action_r12))(\"formControlName\", i_r13);\n  }\n}\nfunction PromotionDetailComponent_vdr_dropdown_62_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function PromotionDetailComponent_vdr_dropdown_62_button_6_Template_button_click_0_listener() {\n      const action_r15 = i0.ɵɵrestoreView(_r14).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.addAction(action_r15));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const action_r15 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", action_r15.description, \" \");\n  }\n}\nfunction PromotionDetailComponent_vdr_dropdown_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"vdr-dropdown\")(1, \"button\", 34);\n    i0.ɵɵelement(2, \"clr-icon\", 35);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"vdr-dropdown-menu\", 36);\n    i0.ɵɵtemplate(6, PromotionDetailComponent_vdr_dropdown_62_button_6_Template, 2, 1, \"button\", 37);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"marketing.add-action\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.getAvailableActions());\n  }\n}\nconst _c0 = () => [\"./create\"];\nconst _c1 = a0 => [\"./\", a0];\nfunction PromotionListComponent_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 17);\n    i0.ɵɵelement(1, \"clr-icon\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"marketing.create-new-promotion\"), \" \");\n  }\n}\nfunction PromotionListComponent_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const promotion_r1 = ctx.item;\n    i0.ɵɵtextInterpolate(promotion_r1.id);\n  }\n}\nfunction PromotionListComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"localeDate\");\n  }\n  if (rf & 2) {\n    const promotion_r2 = ctx.item;\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(1, 1, promotion_r2.createdAt, \"short\"), \" \");\n  }\n}\nfunction PromotionListComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"localeDate\");\n  }\n  if (rf & 2) {\n    const promotion_r3 = ctx.item;\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(1, 1, promotion_r3.updatedAt, \"short\"), \" \");\n  }\n}\nfunction PromotionListComponent_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 19)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"clr-icon\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const promotion_r4 = ctx.item;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c1, promotion_r4.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", promotion_r4.name, \"\");\n  }\n}\nfunction PromotionListComponent_ng_template_32_vdr_chip_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"vdr-chip\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"common.enabled\"));\n  }\n}\nfunction PromotionListComponent_ng_template_32_vdr_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"vdr-chip\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"common.disabled\"));\n  }\n}\nfunction PromotionListComponent_ng_template_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, PromotionListComponent_ng_template_32_vdr_chip_0_Template, 3, 3, \"vdr-chip\", 21)(1, PromotionListComponent_ng_template_32_vdr_chip_1_Template, 3, 3, \"vdr-chip\", 22);\n  }\n  if (rf & 2) {\n    const promotion_r5 = ctx.item;\n    i0.ɵɵproperty(\"ngIf\", promotion_r5.enabled);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !promotion_r5.enabled);\n  }\n}\nfunction PromotionListComponent_ng_template_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const promotion_r6 = ctx.item;\n    i0.ɵɵtextInterpolate1(\" \", promotion_r6.couponCode, \" \");\n  }\n}\nfunction PromotionListComponent_ng_template_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"localeDate\");\n  }\n  if (rf & 2) {\n    const promotion_r7 = ctx.item;\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(1, 1, promotion_r7.startsAt, \"short\"), \" \");\n  }\n}\nfunction PromotionListComponent_ng_template_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"localeDate\");\n  }\n  if (rf & 2) {\n    const promotion_r8 = ctx.item;\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(1, 1, promotion_r8.endsAt, \"short\"), \" \");\n  }\n}\nfunction PromotionListComponent_ng_template_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const promotion_r9 = ctx.item;\n    i0.ɵɵtextInterpolate1(\" \", promotion_r9.perCustomerUsageLimit, \" \");\n  }\n}\nfunction PromotionListComponent_ng_template_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const promotion_r10 = ctx.item;\n    i0.ɵɵtextInterpolate1(\" \", promotion_r10.usageLimit, \" \");\n  }\n}\nfunction PromotionListComponent_vdr_dt2_custom_field_column_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"vdr-dt2-custom-field-column\", 25);\n  }\n  if (rf & 2) {\n    const customField_r11 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"customField\", customField_r11)(\"sorts\", ctx_r11.sorts);\n  }\n}\nconst GET_PROMOTION_DETAIL = gql`\n    query GetPromotionDetail($id: ID!) {\n        promotion(id: $id) {\n            ...Promotion\n        }\n    }\n    ${PROMOTION_FRAGMENT}\n`;\nclass PromotionDetailComponent extends TypedBaseDetailComponent {\n  constructor(changeDetector, dataService, formBuilder, notificationService) {\n    super();\n    this.changeDetector = changeDetector;\n    this.dataService = dataService;\n    this.formBuilder = formBuilder;\n    this.notificationService = notificationService;\n    this.customFields = this.getCustomFieldConfig('Promotion');\n    this.detailForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      description: '',\n      enabled: true,\n      couponCode: null,\n      perCustomerUsageLimit: null,\n      usageLimit: null,\n      startsAt: null,\n      endsAt: null,\n      conditions: this.formBuilder.array([]),\n      actions: this.formBuilder.array([]),\n      customFields: this.formBuilder.group(getCustomFieldsDefaults(this.customFields))\n    });\n    this.conditions = [];\n    this.actions = [];\n    this.allConditions = [];\n    this.allActions = [];\n    this.customFields = this.getCustomFieldConfig('Promotion');\n  }\n  ngOnInit() {\n    this.init();\n    this.dataService.promotion.getPromotionActionsAndConditions().single$.subscribe(data => {\n      this.allActions = data.promotionActions;\n      this.allConditions = data.promotionConditions;\n      this.changeDetector.markForCheck();\n    });\n  }\n  ngOnDestroy() {\n    this.destroy();\n  }\n  getAvailableConditions() {\n    return this.allConditions.filter(o => !this.conditions.find(c => c.code === o.code));\n  }\n  getConditionDefinition(condition) {\n    return this.allConditions.find(c => c.code === condition.code);\n  }\n  getAvailableActions() {\n    return this.allActions.filter(o => !this.actions.find(a => a.code === o.code));\n  }\n  getActionDefinition(action) {\n    return this.allActions.find(c => c.code === action.code);\n  }\n  saveButtonEnabled() {\n    return !!(this.detailForm.dirty && this.detailForm.valid && (this.conditions.length !== 0 || this.detailForm.value.couponCode) && this.actions.length !== 0);\n  }\n  addCondition(condition) {\n    this.addOperation('conditions', condition);\n    this.detailForm.markAsDirty();\n  }\n  addAction(action) {\n    this.addOperation('actions', action);\n    this.detailForm.markAsDirty();\n  }\n  removeCondition(condition) {\n    this.removeOperation('conditions', condition);\n    this.detailForm.markAsDirty();\n  }\n  removeAction(action) {\n    this.removeOperation('actions', action);\n    this.detailForm.markAsDirty();\n  }\n  formArrayOf(key) {\n    return this.detailForm.get(key);\n  }\n  create() {\n    if (!this.detailForm.dirty) {\n      return;\n    }\n    const input = this.getUpdatedPromotion({\n      id: '',\n      createdAt: '',\n      updatedAt: '',\n      startsAt: '',\n      endsAt: '',\n      name: '',\n      description: '',\n      couponCode: null,\n      perCustomerUsageLimit: null,\n      usageLimit: null,\n      enabled: false,\n      conditions: [],\n      actions: [],\n      translations: []\n    }, this.detailForm, this.languageCode);\n    this.dataService.promotion.createPromotion(input).subscribe(({\n      createPromotion\n    }) => {\n      switch (createPromotion.__typename) {\n        case 'Promotion':\n          this.notificationService.success(marker('common.notify-create-success'), {\n            entity: 'Promotion'\n          });\n          this.detailForm.markAsPristine();\n          this.changeDetector.markForCheck();\n          this.router.navigate(['../', createPromotion.id], {\n            relativeTo: this.route\n          });\n          break;\n        case 'MissingConditionsError':\n          this.notificationService.error(createPromotion.message);\n          break;\n      }\n    }, err => {\n      this.notificationService.error(marker('common.notify-create-error'), {\n        entity: 'Promotion'\n      });\n    });\n  }\n  save() {\n    if (!this.detailForm.dirty) {\n      return;\n    }\n    combineLatest(this.entity$, this.languageCode$).pipe(take(1), mergeMap(([paymentMethod, languageCode]) => {\n      const input = this.getUpdatedPromotion(paymentMethod, this.detailForm, languageCode);\n      return this.dataService.promotion.updatePromotion(input);\n    })).subscribe(data => {\n      this.notificationService.success(marker('common.notify-update-success'), {\n        entity: 'Promotion'\n      });\n      this.detailForm.markAsPristine();\n      this.changeDetector.markForCheck();\n    }, err => {\n      this.notificationService.error(marker('common.notify-update-error'), {\n        entity: 'Promotion'\n      });\n    });\n  }\n  /**\n   * Given a PaymentMethod and the value of the detailForm, this method creates an updated copy of it which\n   * can then be persisted to the API.\n   */\n  getUpdatedPromotion(promotion, formGroup, languageCode) {\n    const formValue = formGroup.value;\n    const input = createUpdatedTranslatable({\n      translatable: promotion,\n      updatedFields: formValue,\n      customFieldConfig: this.customFields,\n      languageCode,\n      defaultTranslation: {\n        languageCode,\n        name: promotion.name || '',\n        description: promotion.description || ''\n      }\n    });\n    return {\n      ...input,\n      conditions: this.mapOperationsToInputs(this.conditions, formValue.conditions),\n      actions: this.mapOperationsToInputs(this.actions, formValue.actions)\n    };\n  }\n  /**\n   * Update the form values when the entity changes.\n   */\n  setFormValues(entity, languageCode) {\n    const currentTranslation = findTranslation(entity, languageCode);\n    this.detailForm.patchValue({\n      name: currentTranslation?.name,\n      description: currentTranslation?.description,\n      enabled: entity.enabled,\n      couponCode: entity.couponCode,\n      perCustomerUsageLimit: entity.perCustomerUsageLimit,\n      usageLimit: entity.usageLimit,\n      startsAt: entity.startsAt,\n      endsAt: entity.endsAt\n    });\n    entity.conditions.forEach(o => {\n      this.addOperation('conditions', o);\n    });\n    entity.actions.forEach(o => this.addOperation('actions', o));\n    if (this.customFields.length) {\n      this.setCustomFieldFormValues(this.customFields, this.detailForm.get('customFields'), entity, currentTranslation);\n    }\n  }\n  /**\n   * Maps an array of conditions or actions to the input format expected by the GraphQL API.\n   */\n  mapOperationsToInputs(operations, formValueOperations) {\n    return operations.map((o, i) => ({\n      code: o.code,\n      arguments: Object.values(formValueOperations[i].args).map((value, j) => ({\n        name: o.args[j].name,\n        value: encodeConfigArgValue(value)\n      }))\n    }));\n  }\n  /**\n   * Adds a new condition or action to the promotion.\n   */\n  addOperation(key, operation) {\n    const operationsArray = this.formArrayOf(key);\n    const collection = key === 'conditions' ? this.conditions : this.actions;\n    const index = operationsArray.value.findIndex(o => o.code === operation.code);\n    if (index === -1) {\n      const argsHash = operation.args.reduce((output, arg) => ({\n        ...output,\n        [arg.name]: getConfigArgValue(arg.value) ?? this.getDefaultArgValue(key, operation, arg.name)\n      }), {});\n      operationsArray.push(this.formBuilder.control({\n        code: operation.code,\n        args: argsHash\n      }));\n      collection.push({\n        code: operation.code,\n        args: operation.args.map(a => ({\n          name: a.name,\n          value: getConfigArgValue(a.value)\n        }))\n      });\n    }\n  }\n  getDefaultArgValue(key, operation, argName) {\n    const def = key === 'conditions' ? this.allConditions.find(c => c.code === operation.code) : this.allActions.find(a => a.code === operation.code);\n    if (def) {\n      const argDef = def.args.find(a => a.name === argName);\n      if (argDef) {\n        return getDefaultConfigArgValue(argDef);\n      }\n    }\n    throw new Error(`Could not determine default value for \"argName\"`);\n  }\n  /**\n   * Removes a condition or action from the promotion.\n   */\n  removeOperation(key, operation) {\n    const operationsArray = this.formArrayOf(key);\n    const collection = key === 'conditions' ? this.conditions : this.actions;\n    const index = operationsArray.value.findIndex(o => o.code === operation.code);\n    if (index !== -1) {\n      operationsArray.removeAt(index);\n      collection.splice(index, 1);\n    }\n  }\n  static {\n    this.ɵfac = function PromotionDetailComponent_Factory(t) {\n      return new (t || PromotionDetailComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i1.NotificationService));\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PromotionDetailComponent,\n      selectors: [[\"vdr-promotion-detail\"]],\n      features: [i0.ɵɵInheritDefinitionFeature],\n      decls: 63,\n      vars: 73,\n      consts: [[\"updateButton\", \"\"], [1, \"flex\", \"clr-align-items-center\"], [3, \"languageCodeChange\", \"disabled\", \"availableLanguageCodes\", \"currentLanguageCode\"], [\"locationId\", \"promotion-detail\"], [\"class\", \"btn btn-primary\", 3, \"disabled\", \"click\", 4, \"ngIf\", \"ngIfElse\"], [1, \"form\", 3, \"formGroup\"], [4, \"vdrIfPermissions\"], [4, \"ngIf\"], [1, \"form-grid\"], [\"for\", \"name\", 3, \"label\"], [\"id\", \"name\", \"type\", \"text\", \"formControlName\", \"name\", 3, \"readonly\"], [\"formControlName\", \"description\", 1, \"form-grid-span\", 3, \"readonly\", \"label\"], [\"for\", \"startsAt\", 3, \"label\"], [\"formControlName\", \"startsAt\"], [\"for\", \"endsAt\", 3, \"label\"], [\"formControlName\", \"endsAt\"], [\"for\", \"couponCode\", 3, \"label\"], [\"id\", \"couponCode\", \"type\", \"text\", \"formControlName\", \"couponCode\", 3, \"readonly\"], [\"for\", \"perCustomerUsageLimit\", 3, \"label\", \"tooltip\"], [\"id\", \"perCustomerUsageLimit\", \"type\", \"number\", \"min\", \"1\", \"max\", \"999\", \"formControlName\", \"perCustomerUsageLimit\", 3, \"readonly\"], [\"for\", \"usageLimit\", 3, \"label\", \"tooltip\"], [\"id\", \"usageLimit\", \"type\", \"number\", \"min\", \"1\", \"max\", \"9999999\", \"formControlName\", \"usageLimit\", 3, \"readonly\"], [\"formGroupName\", \"customFields\", 3, \"title\", 4, \"ngIf\"], [\"locationId\", \"promotion-detail\", 3, \"entity$\", \"detailForm\"], [\"formArrayName\", \"conditions\", 3, \"title\"], [4, \"ngFor\", \"ngForOf\"], [\"formArrayName\", \"actions\", 3, \"title\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"btn btn-primary\", 3, \"disabled\", \"click\", 4, \"vdrIfPermissions\"], [\"type\", \"checkbox\", \"clrToggle\", \"\", \"name\", \"enabled\", \"formControlName\", \"enabled\"], [3, \"entity\"], [\"formGroupName\", \"customFields\", 3, \"title\"], [\"entityName\", \"Promotion\", 3, \"customFields\", \"customFieldsFormGroup\", \"readonly\"], [3, \"remove\", \"position\", \"readonly\", \"operation\", \"operationDefinition\", \"formControlName\"], [\"vdrDropdownTrigger\", \"\", 1, \"btn\", \"btn-outline\"], [\"shape\", \"plus\"], [\"vdrPosition\", \"bottom-left\"], [\"type\", \"button\", \"vdrDropdownItem\", \"\", \"class\", \"item-wrap\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"vdrDropdownItem\", \"\", 1, \"item-wrap\", 3, \"click\"], [3, \"remove\", \"position\", \"operation\", \"readonly\", \"operationDefinition\", \"formControlName\"]],\n      template: function PromotionDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"vdr-page-block\")(1, \"vdr-action-bar\")(2, \"vdr-ab-left\")(3, \"div\", 1)(4, \"vdr-language-selector\", 2);\n          i0.ɵɵpipe(5, \"async\");\n          i0.ɵɵpipe(6, \"async\");\n          i0.ɵɵpipe(7, \"async\");\n          i0.ɵɵlistener(\"languageCodeChange\", function PromotionDetailComponent_Template_vdr_language_selector_languageCodeChange_4_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.setLanguage($event));\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(8, \"vdr-ab-right\");\n          i0.ɵɵelement(9, \"vdr-action-bar-items\", 3);\n          i0.ɵɵtemplate(10, PromotionDetailComponent_button_10_Template, 3, 4, \"button\", 4);\n          i0.ɵɵpipe(11, \"async\");\n          i0.ɵɵtemplate(12, PromotionDetailComponent_ng_template_12_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelement(14, \"vdr-action-bar-dropdown-menu\", 3);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(15, \"form\", 5)(16, \"vdr-page-detail-layout\")(17, \"vdr-page-detail-sidebar\");\n          i0.ɵɵtemplate(18, PromotionDetailComponent_vdr_card_18_Template, 6, 3, \"vdr-card\", 6)(19, PromotionDetailComponent_vdr_card_19_Template, 2, 1, \"vdr-card\", 7);\n          i0.ɵɵpipe(20, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"vdr-page-block\")(22, \"vdr-card\")(23, \"div\", 8)(24, \"vdr-form-field\", 9);\n          i0.ɵɵpipe(25, \"translate\");\n          i0.ɵɵelement(26, \"input\", 10);\n          i0.ɵɵpipe(27, \"hasPermission\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(28, \"vdr-rich-text-editor\", 11);\n          i0.ɵɵpipe(29, \"hasPermission\");\n          i0.ɵɵpipe(30, \"translate\");\n          i0.ɵɵelementStart(31, \"vdr-form-field\", 12);\n          i0.ɵɵpipe(32, \"translate\");\n          i0.ɵɵelement(33, \"vdr-datetime-picker\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"vdr-form-field\", 14);\n          i0.ɵɵpipe(35, \"translate\");\n          i0.ɵɵelement(36, \"vdr-datetime-picker\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"vdr-form-field\", 16);\n          i0.ɵɵpipe(38, \"translate\");\n          i0.ɵɵelement(39, \"input\", 17);\n          i0.ɵɵpipe(40, \"hasPermission\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"vdr-form-field\", 18);\n          i0.ɵɵpipe(42, \"translate\");\n          i0.ɵɵpipe(43, \"translate\");\n          i0.ɵɵelement(44, \"input\", 19);\n          i0.ɵɵpipe(45, \"hasPermission\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(46, \"vdr-form-field\", 20);\n          i0.ɵɵpipe(47, \"translate\");\n          i0.ɵɵpipe(48, \"translate\");\n          i0.ɵɵelement(49, \"input\", 21);\n          i0.ɵɵpipe(50, \"hasPermission\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(51, PromotionDetailComponent_vdr_card_51_Template, 4, 8, \"vdr-card\", 22);\n          i0.ɵɵelement(52, \"vdr-custom-detail-component-host\", 23);\n          i0.ɵɵelementStart(53, \"vdr-card\", 24);\n          i0.ɵɵpipe(54, \"translate\");\n          i0.ɵɵtemplate(55, PromotionDetailComponent_div_55_Template, 3, 7, \"div\", 25);\n          i0.ɵɵelementStart(56, \"div\");\n          i0.ɵɵtemplate(57, PromotionDetailComponent_vdr_dropdown_57_Template, 7, 4, \"vdr-dropdown\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(58, \"vdr-card\", 26);\n          i0.ɵɵpipe(59, \"translate\");\n          i0.ɵɵtemplate(60, PromotionDetailComponent_div_60_Template, 3, 7, \"div\", 25);\n          i0.ɵɵelementStart(61, \"div\");\n          i0.ɵɵtemplate(62, PromotionDetailComponent_vdr_dropdown_62_Template, 7, 4, \"vdr-dropdown\", 6);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          const updateButton_r16 = i0.ɵɵreference(13);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(5, 31, ctx.isNew$))(\"availableLanguageCodes\", i0.ɵɵpipeBind1(6, 33, ctx.availableLanguages$))(\"currentLanguageCode\", i0.ɵɵpipeBind1(7, 35, ctx.languageCode$));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 37, ctx.isNew$))(\"ngIfElse\", updateButton_r16);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"formGroup\", ctx.detailForm);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"vdrIfPermissions\", \"UpdatePromotion\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(20, 39, ctx.entity$));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(25, 41, \"common.name\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"readonly\", !i0.ɵɵpipeBind1(27, 43, \"UpdatePromotion\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"readonly\", !i0.ɵɵpipeBind1(29, 45, \"UpdatePromotion\"))(\"label\", i0.ɵɵpipeBind1(30, 47, \"common.description\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(32, 49, \"marketing.starts-at\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(35, 51, \"marketing.ends-at\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(38, 53, \"marketing.coupon-code\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"readonly\", !i0.ɵɵpipeBind1(40, 55, \"UpdatePromotion\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(42, 57, \"marketing.per-customer-limit\"))(\"tooltip\", i0.ɵɵpipeBind1(43, 59, \"marketing.per-customer-limit-tooltip\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"readonly\", !i0.ɵɵpipeBind1(45, 61, \"UpdatePromotion\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(47, 63, \"marketing.usage-limit\"))(\"tooltip\", i0.ɵɵpipeBind1(48, 65, \"marketing.usage-limit-tooltip\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"readonly\", !i0.ɵɵpipeBind1(50, 67, \"UpdatePromotion\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.customFields.length);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"entity$\", ctx.entity$)(\"detailForm\", ctx.detailForm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"title\", i0.ɵɵpipeBind1(54, 69, \"marketing.conditions\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.conditions);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"vdrIfPermissions\", \"UpdatePromotion\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"title\", i0.ɵɵpipeBind1(59, 71, \"marketing.actions\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.actions);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"vdrIfPermissions\", \"UpdatePromotion\");\n        }\n      },\n      dependencies: [i3.ClrIconCustomTag, i3.ClrLabel, i3.ClrCheckbox, i3.ClrCheckboxWrapper, i4.NgForOf, i4.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.CheckboxControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.MinValidator, i2.MaxValidator, i2.FormGroupDirective, i2.FormControlName, i2.FormGroupName, i2.FormArrayName, i1.ActionBarComponent, i1.ActionBarLeftComponent, i1.ActionBarRightComponent, i1.ActionBarDropdownMenuComponent, i1.ConfigurableInputComponent, i1.FormFieldComponent, i1.FormFieldControlDirective, i1.LanguageSelectorComponent, i1.RichTextEditorComponent, i1.DropdownComponent, i1.DropdownMenuComponent, i1.DropdownTriggerDirective, i1.DropdownItemDirective, i1.IfPermissionsDirective, i1.ActionBarItemsComponent, i1.DatetimePickerComponent, i1.TabbedCustomFieldsComponent, i1.CustomDetailComponentHostComponent, i1.PageBlockComponent, i1.PageEntityInfoComponent, i1.PageDetailLayoutComponent, i1.PageDetailSidebarComponent, i1.CardComponent, i4.AsyncPipe, i5.TranslatePipe, i1.HasPermissionPipe],\n      styles: [\".item-wrap[_ngcontent-%COMP%]{white-space:normal}\"],\n      changeDetection: 0\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PromotionDetailComponent, [{\n    type: Component,\n    args: [{\n      selector: 'vdr-promotion-detail',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-left>\\r\\n            <div class=\\\"flex clr-align-items-center\\\">\\r\\n                <vdr-language-selector\\r\\n                    [disabled]=\\\"isNew$ | async\\\"\\r\\n                    [availableLanguageCodes]=\\\"availableLanguages$ | async\\\"\\r\\n                    [currentLanguageCode]=\\\"languageCode$ | async\\\"\\r\\n                    (languageCodeChange)=\\\"setLanguage($event)\\\"\\r\\n                ></vdr-language-selector>\\r\\n            </div>\\r\\n        </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"promotion-detail\\\" />\\r\\n            <button\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n                *ngIf=\\\"isNew$ | async; else updateButton\\\"\\r\\n                (click)=\\\"create()\\\"\\r\\n                [disabled]=\\\"!saveButtonEnabled()\\\"\\r\\n            >\\r\\n                {{ 'common.create' | translate }}\\r\\n            </button>\\r\\n            <ng-template #updateButton>\\r\\n                <button\\r\\n                    class=\\\"btn btn-primary\\\"\\r\\n                    (click)=\\\"save()\\\"\\r\\n                    *vdrIfPermissions=\\\"'UpdatePromotion'\\\"\\r\\n                    [disabled]=\\\"!saveButtonEnabled()\\\"\\r\\n                >\\r\\n                    {{ 'common.update' | translate }}\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"promotion-detail\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<form class=\\\"form\\\" [formGroup]=\\\"detailForm\\\">\\r\\n    <vdr-page-detail-layout>\\r\\n        <vdr-page-detail-sidebar>\\r\\n            <vdr-card *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                <clr-toggle-wrapper>\\r\\n                    <input type=\\\"checkbox\\\" clrToggle name=\\\"enabled\\\" formControlName=\\\"enabled\\\" />\\r\\n                    <label>{{ 'common.enabled' | translate }}</label>\\r\\n                </clr-toggle-wrapper>\\r\\n            </vdr-card>\\r\\n            <vdr-card *ngIf=\\\"entity$ | async as entity\\\">\\r\\n                <vdr-page-entity-info [entity]=\\\"entity\\\" />\\r\\n            </vdr-card>\\r\\n        </vdr-page-detail-sidebar>\\r\\n        <vdr-page-block>\\r\\n            <vdr-card>\\r\\n                <div class=\\\"form-grid\\\">\\r\\n                    <vdr-form-field [label]=\\\"'common.name' | translate\\\" for=\\\"name\\\">\\r\\n                        <input\\r\\n                            id=\\\"name\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            formControlName=\\\"name\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-rich-text-editor\\r\\n                        class=\\\"form-grid-span\\\"\\r\\n                        formControlName=\\\"description\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [label]=\\\"'common.description' | translate\\\"\\r\\n                    ></vdr-rich-text-editor>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.starts-at' | translate\\\" for=\\\"startsAt\\\">\\r\\n                        <vdr-datetime-picker formControlName=\\\"startsAt\\\"></vdr-datetime-picker>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.ends-at' | translate\\\" for=\\\"endsAt\\\">\\r\\n                        <vdr-datetime-picker formControlName=\\\"endsAt\\\"></vdr-datetime-picker>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.coupon-code' | translate\\\" for=\\\"couponCode\\\">\\r\\n                        <input\\r\\n                            id=\\\"couponCode\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            formControlName=\\\"couponCode\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"'marketing.per-customer-limit' | translate\\\"\\r\\n                        [tooltip]=\\\"'marketing.per-customer-limit-tooltip' | translate\\\"\\r\\n                        for=\\\"perCustomerUsageLimit\\\"\\r\\n                    >\\r\\n                        <input\\r\\n                            id=\\\"perCustomerUsageLimit\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"number\\\"\\r\\n                            min=\\\"1\\\"\\r\\n                            max=\\\"999\\\"\\r\\n                            formControlName=\\\"perCustomerUsageLimit\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"'marketing.usage-limit' | translate\\\"\\r\\n                        [tooltip]=\\\"'marketing.usage-limit-tooltip' | translate\\\"\\r\\n                        for=\\\"usageLimit\\\"\\r\\n                    >\\r\\n                        <input\\r\\n                            id=\\\"usageLimit\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"number\\\"\\r\\n                            min=\\\"1\\\"\\r\\n                            max=\\\"9999999\\\"\\r\\n                            formControlName=\\\"usageLimit\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n            <vdr-card\\r\\n                [title]=\\\"'common.custom-fields' | translate\\\"\\r\\n                formGroupName=\\\"customFields\\\"\\r\\n                *ngIf=\\\"customFields.length\\\"\\r\\n            >\\r\\n                <vdr-tabbed-custom-fields\\r\\n                    entityName=\\\"Promotion\\\"\\r\\n                    [customFields]=\\\"customFields\\\"\\r\\n                    [customFieldsFormGroup]=\\\"detailForm.get('customFields')\\\"\\r\\n                    [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                ></vdr-tabbed-custom-fields>\\r\\n            </vdr-card>\\r\\n\\r\\n            <vdr-custom-detail-component-host\\r\\n                locationId=\\\"promotion-detail\\\"\\r\\n                [entity$]=\\\"entity$\\\"\\r\\n                [detailForm]=\\\"detailForm\\\"\\r\\n            ></vdr-custom-detail-component-host>\\r\\n\\r\\n            <vdr-card [title]=\\\"'marketing.conditions' | translate\\\" formArrayName=\\\"conditions\\\">\\r\\n                <div *ngFor=\\\"let condition of conditions; index as i\\\">\\r\\n                    <vdr-configurable-input\\r\\n                        (remove)=\\\"removeCondition($event)\\\"\\r\\n                        [position]=\\\"i\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [operation]=\\\"condition\\\"\\r\\n                        [operationDefinition]=\\\"getConditionDefinition(condition)\\\"\\r\\n                        [formControlName]=\\\"i\\\"\\r\\n                    ></vdr-configurable-input>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <vdr-dropdown *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                        <button class=\\\"btn btn-outline\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                            {{ 'marketing.add-condition' | translate }}\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-left\\\">\\r\\n                            <button\\r\\n                                *ngFor=\\\"let condition of getAvailableConditions()\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                class=\\\"item-wrap\\\"\\r\\n                                (click)=\\\"addCondition(condition)\\\"\\r\\n                            >\\r\\n                                {{ condition.description }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n            <vdr-card [title]=\\\"'marketing.actions' | translate\\\" formArrayName=\\\"actions\\\">\\r\\n                <div *ngFor=\\\"let action of actions; index as i\\\">\\r\\n                    <vdr-configurable-input\\r\\n                        (remove)=\\\"removeAction($event)\\\"\\r\\n                        [position]=\\\"i\\\"\\r\\n                        [operation]=\\\"action\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [operationDefinition]=\\\"getActionDefinition(action)\\\"\\r\\n                        [formControlName]=\\\"i\\\"\\r\\n                    ></vdr-configurable-input>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <vdr-dropdown *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                        <button class=\\\"btn btn-outline\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                            {{ 'marketing.add-action' | translate }}\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-left\\\">\\r\\n                            <button\\r\\n                                *ngFor=\\\"let action of getAvailableActions()\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                class=\\\"item-wrap\\\"\\r\\n                                (click)=\\\"addAction(action)\\\"\\r\\n                            >\\r\\n                                {{ action.description }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n        </vdr-page-block>\\r\\n    </vdr-page-detail-layout>\\r\\n</form>\\r\\n\",\n      styles: [\".item-wrap{white-space:normal}\\n\"]\n    }]\n  }], () => [{\n    type: i0.ChangeDetectorRef\n  }, {\n    type: i1.DataService\n  }, {\n    type: i2.FormBuilder\n  }, {\n    type: i1.NotificationService\n  }], null);\n})();\nconst ASSIGN_PROMOTIONS_TO_CHANNEL = gql`\n    mutation AssignPromotionsToChannel($input: AssignPromotionsToChannelInput!) {\n        assignPromotionsToChannel(input: $input) {\n            id\n            name\n        }\n    }\n`;\nconst REMOVE_PROMOTIONS_FROM_CHANNEL = gql`\n    mutation RemovePromotionsFromChannel($input: RemovePromotionsFromChannelInput!) {\n        removePromotionsFromChannel(input: $input) {\n            id\n            name\n        }\n    }\n`;\nconst deletePromotionsBulkAction = createBulkDeleteAction({\n  location: 'promotion-list',\n  requiresPermission: Permission.DeletePromotion,\n  getItemName: item => item.name,\n  bulkDelete: (dataService, ids) => dataService.promotion.deletePromotions(ids).pipe(map(res => res.deletePromotions))\n});\nconst assignPromotionsToChannelBulkAction = createBulkAssignToChannelAction({\n  location: 'promotion-list',\n  requiresPermission: Permission.UpdatePromotion,\n  getItemName: item => item.name,\n  bulkAssignToChannel: (dataService, promotionIds, channelIds) => {\n    return channelIds.map(channelId => dataService.mutate(AssignPromotionsToChannelDocument, {\n      input: {\n        channelId,\n        promotionIds\n      }\n    }).pipe(map(res => res.assignPromotionsToChannel)));\n  }\n});\nconst removePromotionsFromChannelBulkAction = createBulkRemoveFromChannelAction({\n  location: 'promotion-list',\n  requiresPermission: Permission.DeleteCatalog,\n  getItemName: item => item.name,\n  bulkRemoveFromChannel: (dataService, promotionIds, channelId) => dataService.mutate(RemovePromotionsFromChannelDocument, {\n    input: {\n      channelId,\n      promotionIds\n    }\n  }).pipe(map(res => res.removePromotionsFromChannel))\n});\nconst duplicatePromotionsBulkAction = {\n  location: 'promotion-list',\n  label: marker('common.duplicate'),\n  icon: 'copy',\n  onClick: ({\n    injector,\n    selection,\n    hostComponent,\n    clearSelection\n  }) => {\n    const modalService = injector.get(ModalService);\n    modalService.fromComponent(DuplicateEntityDialogComponent, {\n      locals: {\n        entities: selection,\n        entityName: 'Promotion',\n        title: marker('marketing.duplicate-promotions'),\n        getEntityName: entity => entity.name\n      }\n    }).subscribe(result => {\n      if (result) {\n        clearSelection();\n        hostComponent.refresh();\n      }\n    });\n  }\n};\nconst GET_PROMOTION_LIST = gql`\n    query GetPromotionList($options: PromotionListOptions) {\n        promotions(options: $options) {\n            items {\n                ...Promotion\n            }\n            totalItems\n        }\n    }\n    ${PROMOTION_FRAGMENT}\n`;\nclass PromotionListComponent extends TypedBaseListComponent {\n  constructor() {\n    super();\n    this.dataTableListId = 'promotion-list';\n    this.customFields = this.getCustomFieldConfig('Promotion');\n    this.filters = this.createFilterCollection().addIdFilter().addDateFilters().addFilters([{\n      name: 'startsAt',\n      type: {\n        kind: 'dateRange'\n      },\n      label: marker('marketing.starts-at'),\n      filterField: 'startsAt'\n    }, {\n      name: 'endsAt',\n      type: {\n        kind: 'dateRange'\n      },\n      label: marker('marketing.ends-at'),\n      filterField: 'endsAt'\n    }, {\n      name: 'enabled',\n      type: {\n        kind: 'boolean'\n      },\n      label: marker('common.enabled'),\n      filterField: 'enabled'\n    }, {\n      name: 'name',\n      type: {\n        kind: 'text'\n      },\n      label: marker('common.name'),\n      filterField: 'name'\n    }, {\n      name: 'couponCode',\n      type: {\n        kind: 'text'\n      },\n      label: marker('marketing.coupon-code'),\n      filterField: 'couponCode'\n    }, {\n      name: 'desc',\n      type: {\n        kind: 'text'\n      },\n      label: marker('common.description'),\n      filterField: 'description'\n    }, {\n      name: 'perCustomerUsageLimit',\n      type: {\n        kind: 'number'\n      },\n      label: marker('marketing.per-customer-limit'),\n      filterField: 'perCustomerUsageLimit'\n    }, {\n      name: 'usageLimit',\n      type: {\n        kind: 'number'\n      },\n      label: marker('marketing.usage-limit'),\n      filterField: 'usageLimit'\n    }]).addCustomFieldFilters(this.customFields).connectToRoute(this.route);\n    this.sorts = this.createSortCollection().defaultSort('createdAt', 'DESC').addSorts([{\n      name: 'createdAt'\n    }, {\n      name: 'updatedAt'\n    }, {\n      name: 'startsAt'\n    }, {\n      name: 'endsAt'\n    }, {\n      name: 'name'\n    }, {\n      name: 'couponCode'\n    }, {\n      name: 'perCustomerUsageLimit'\n    }, {\n      name: 'usageLimit'\n    }]).addCustomFieldSorts(this.customFields).connectToRoute(this.route);\n    super.configure({\n      document: GetPromotionListDocument,\n      getItems: data => data.promotions,\n      setVariables: (skip, take) => this.createQueryOptions(skip, take, this.searchTermControl.value),\n      refreshListOnChanges: [this.filters.valueChanges, this.sorts.valueChanges]\n    });\n  }\n  createQueryOptions(skip, take, searchTerm) {\n    const filter = this.filters.createFilterInput();\n    const sort = this.sorts.createSortInput();\n    let filterOperator = LogicalOperator.AND;\n    if (searchTerm) {\n      filter.couponCode = {\n        contains: searchTerm\n      };\n      filter.name = {\n        contains: searchTerm\n      };\n      filterOperator = LogicalOperator.OR;\n    }\n    return {\n      options: {\n        skip,\n        take,\n        filter,\n        filterOperator,\n        sort\n      }\n    };\n  }\n  static {\n    this.ɵfac = function PromotionListComponent_Factory(t) {\n      return new (t || PromotionListComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PromotionListComponent,\n      selectors: [[\"vdr-promotion-list\"]],\n      features: [i0.ɵɵInheritDefinitionFeature],\n      decls: 49,\n      vars: 72,\n      consts: [[3, \"languageCodeChange\", \"availableLanguageCodes\", \"currentLanguageCode\"], [\"locationId\", \"promotion-list\"], [\"class\", \"btn btn-primary\", 3, \"routerLink\", 4, \"vdrIfPermissions\"], [3, \"pageChange\", \"itemsPerPageChange\", \"visibleColumnsChange\", \"id\", \"items\", \"itemsPerPage\", \"totalItems\", \"currentPage\", \"filters\"], [\"locationId\", \"promotion-list\", 3, \"hostComponent\", \"selectionManager\"], [3, \"searchTermControl\", \"searchTermPlaceholder\"], [\"id\", \"id\", 3, \"heading\", \"hiddenByDefault\"], [\"id\", \"created-at\", 3, \"heading\", \"hiddenByDefault\", \"sort\"], [\"id\", \"updated-at\", 3, \"heading\", \"hiddenByDefault\", \"sort\"], [\"id\", \"name\", 3, \"heading\", \"optional\", \"sort\"], [\"id\", \"enabled\", 3, \"heading\"], [\"id\", \"coupon-code\", 3, \"heading\", \"sort\"], [\"id\", \"starts-at\", 3, \"heading\", \"sort\"], [\"id\", \"ends-at\", 3, \"heading\", \"sort\"], [\"id\", \"per-customer-limit\", 3, \"heading\", \"sort\", \"hiddenByDefault\"], [\"id\", \"usage-limit\", 3, \"heading\", \"sort\", \"hiddenByDefault\"], [3, \"customField\", \"sorts\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"shape\", \"plus\"], [1, \"button-ghost\", 3, \"routerLink\"], [\"shape\", \"arrow right\"], [\"colorType\", \"success\", 4, \"ngIf\"], [\"colorType\", \"warning\", 4, \"ngIf\"], [\"colorType\", \"success\"], [\"colorType\", \"warning\"], [3, \"customField\", \"sorts\"]],\n      template: function PromotionListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"vdr-page-block\")(1, \"vdr-action-bar\")(2, \"vdr-ab-left\")(3, \"vdr-language-selector\", 0);\n          i0.ɵɵpipe(4, \"async\");\n          i0.ɵɵpipe(5, \"async\");\n          i0.ɵɵlistener(\"languageCodeChange\", function PromotionListComponent_Template_vdr_language_selector_languageCodeChange_3_listener($event) {\n            return ctx.setLanguage($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"vdr-ab-right\");\n          i0.ɵɵelement(7, \"vdr-action-bar-items\", 1);\n          i0.ɵɵtemplate(8, PromotionListComponent_a_8_Template, 4, 5, \"a\", 2);\n          i0.ɵɵelement(9, \"vdr-action-bar-dropdown-menu\", 1);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(10, \"vdr-data-table-2\", 3);\n          i0.ɵɵpipe(11, \"async\");\n          i0.ɵɵpipe(12, \"async\");\n          i0.ɵɵpipe(13, \"async\");\n          i0.ɵɵpipe(14, \"async\");\n          i0.ɵɵlistener(\"pageChange\", function PromotionListComponent_Template_vdr_data_table_2_pageChange_10_listener($event) {\n            return ctx.setPageNumber($event);\n          })(\"itemsPerPageChange\", function PromotionListComponent_Template_vdr_data_table_2_itemsPerPageChange_10_listener($event) {\n            return ctx.setItemsPerPage($event);\n          })(\"visibleColumnsChange\", function PromotionListComponent_Template_vdr_data_table_2_visibleColumnsChange_10_listener($event) {\n            return ctx.setVisibleColumns($event);\n          });\n          i0.ɵɵelement(15, \"vdr-bulk-action-menu\", 4)(16, \"vdr-dt2-search\", 5);\n          i0.ɵɵpipe(17, \"translate\");\n          i0.ɵɵelementStart(18, \"vdr-dt2-column\", 6);\n          i0.ɵɵpipe(19, \"translate\");\n          i0.ɵɵtemplate(20, PromotionListComponent_ng_template_20_Template, 1, 1, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"vdr-dt2-column\", 7);\n          i0.ɵɵpipe(22, \"translate\");\n          i0.ɵɵtemplate(23, PromotionListComponent_ng_template_23_Template, 2, 4, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"vdr-dt2-column\", 8);\n          i0.ɵɵpipe(25, \"translate\");\n          i0.ɵɵtemplate(26, PromotionListComponent_ng_template_26_Template, 2, 4, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"vdr-dt2-column\", 9);\n          i0.ɵɵpipe(28, \"translate\");\n          i0.ɵɵtemplate(29, PromotionListComponent_ng_template_29_Template, 4, 4, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"vdr-dt2-column\", 10);\n          i0.ɵɵpipe(31, \"translate\");\n          i0.ɵɵtemplate(32, PromotionListComponent_ng_template_32_Template, 2, 2, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"vdr-dt2-column\", 11);\n          i0.ɵɵpipe(34, \"translate\");\n          i0.ɵɵtemplate(35, PromotionListComponent_ng_template_35_Template, 1, 1, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"vdr-dt2-column\", 12);\n          i0.ɵɵpipe(37, \"translate\");\n          i0.ɵɵtemplate(38, PromotionListComponent_ng_template_38_Template, 2, 4, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"vdr-dt2-column\", 13);\n          i0.ɵɵpipe(40, \"translate\");\n          i0.ɵɵtemplate(41, PromotionListComponent_ng_template_41_Template, 2, 4, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"vdr-dt2-column\", 14);\n          i0.ɵɵpipe(43, \"translate\");\n          i0.ɵɵtemplate(44, PromotionListComponent_ng_template_44_Template, 1, 1, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"vdr-dt2-column\", 15);\n          i0.ɵɵpipe(46, \"translate\");\n          i0.ɵɵtemplate(47, PromotionListComponent_ng_template_47_Template, 1, 1, \"ng-template\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(48, PromotionListComponent_vdr_dt2_custom_field_column_48_Template, 1, 2, \"vdr-dt2-custom-field-column\", 16);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"availableLanguageCodes\", i0.ɵɵpipeBind1(4, 38, ctx.availableLanguages$))(\"currentLanguageCode\", i0.ɵɵpipeBind1(5, 40, ctx.contentLanguage$));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"vdrIfPermissions\", \"CreatePromotion\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"id\", ctx.dataTableListId)(\"items\", i0.ɵɵpipeBind1(11, 42, ctx.items$))(\"itemsPerPage\", i0.ɵɵpipeBind1(12, 44, ctx.itemsPerPage$))(\"totalItems\", i0.ɵɵpipeBind1(13, 46, ctx.totalItems$))(\"currentPage\", i0.ɵɵpipeBind1(14, 48, ctx.currentPage$))(\"filters\", ctx.filters);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"hostComponent\", ctx)(\"selectionManager\", ctx.selectionManager);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"searchTermControl\", ctx.searchTermControl)(\"searchTermPlaceholder\", i0.ɵɵpipeBind1(17, 50, \"marketing.search-by-name-or-coupon-code\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(19, 52, \"common.id\"))(\"hiddenByDefault\", true);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(22, 54, \"common.created-at\"))(\"hiddenByDefault\", true)(\"sort\", ctx.sorts.get(\"createdAt\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(25, 56, \"common.updated-at\"))(\"hiddenByDefault\", true)(\"sort\", ctx.sorts.get(\"updatedAt\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(28, 58, \"common.name\"))(\"optional\", false)(\"sort\", ctx.sorts.get(\"name\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(31, 60, \"common.enabled\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(34, 62, \"marketing.coupon-code\"))(\"sort\", ctx.sorts.get(\"couponCode\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(37, 64, \"marketing.starts-at\"))(\"sort\", ctx.sorts.get(\"startsAt\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(40, 66, \"marketing.ends-at\"))(\"sort\", ctx.sorts.get(\"endsAt\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(43, 68, \"marketing.per-customer-limit\"))(\"sort\", ctx.sorts.get(\"perCustomerUsageLimit\"))(\"hiddenByDefault\", true);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"heading\", i0.ɵɵpipeBind1(46, 70, \"marketing.usage-limit\"))(\"sort\", ctx.sorts.get(\"usageLimit\"))(\"hiddenByDefault\", true);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.customFields);\n        }\n      },\n      dependencies: [i3.ClrIconCustomTag, i4.NgForOf, i4.NgIf, i3$1.RouterLink, i1.ActionBarComponent, i1.ActionBarLeftComponent, i1.ActionBarRightComponent, i1.ActionBarDropdownMenuComponent, i1.ChipComponent, i1.LanguageSelectorComponent, i1.IfPermissionsDirective, i1.ActionBarItemsComponent, i1.BulkActionMenuComponent, i1.DataTable2Component, i1.DataTable2ColumnComponent, i1.DataTable2SearchComponent, i1.DataTableCustomFieldColumnComponent, i1.PageBlockComponent, i4.AsyncPipe, i5.TranslatePipe, i1.LocaleDatePipe],\n      styles: [\".search-form[_ngcontent-%COMP%]{padding:0}.search-input[_ngcontent-%COMP%]{margin:6px 8px 0 0;min-width:200px}\"],\n      changeDetection: 0\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PromotionListComponent, [{\n    type: Component,\n    args: [{\n      selector: 'vdr-promotion-list',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-left>\\r\\n            <vdr-language-selector\\r\\n                [availableLanguageCodes]=\\\"availableLanguages$ | async\\\"\\r\\n                [currentLanguageCode]=\\\"contentLanguage$ | async\\\"\\r\\n                (languageCodeChange)=\\\"setLanguage($event)\\\"\\r\\n            />\\r\\n        </vdr-ab-left>\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"promotion-list\\\" />\\r\\n            <a class=\\\"btn btn-primary\\\" [routerLink]=\\\"['./create']\\\" *vdrIfPermissions=\\\"'CreatePromotion'\\\">\\r\\n                <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                {{ 'marketing.create-new-promotion' | translate }}\\r\\n            </a>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"promotion-list\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-data-table-2\\r\\n    [id]=\\\"dataTableListId\\\"\\r\\n    [items]=\\\"items$ | async\\\"\\r\\n    [itemsPerPage]=\\\"itemsPerPage$ | async\\\"\\r\\n    [totalItems]=\\\"totalItems$ | async\\\"\\r\\n    [currentPage]=\\\"currentPage$ | async\\\"\\r\\n    [filters]=\\\"filters\\\"\\r\\n    (pageChange)=\\\"setPageNumber($event)\\\"\\r\\n    (itemsPerPageChange)=\\\"setItemsPerPage($event)\\\"\\r\\n    (visibleColumnsChange)=\\\"setVisibleColumns($event)\\\"\\r\\n>\\r\\n    <vdr-bulk-action-menu\\r\\n        locationId=\\\"promotion-list\\\"\\r\\n        [hostComponent]=\\\"this\\\"\\r\\n        [selectionManager]=\\\"selectionManager\\\"\\r\\n    />\\r\\n    <vdr-dt2-search\\r\\n        [searchTermControl]=\\\"searchTermControl\\\"\\r\\n        [searchTermPlaceholder]=\\\"'marketing.search-by-name-or-coupon-code' | translate\\\"\\r\\n    />\\r\\n    <vdr-dt2-column [heading]=\\\"'common.id' | translate\\\" id=\\\"id\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">{{ promotion.id }}</ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.created-at' | translate\\\"\\r\\n        id=\\\"created-at\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n        [sort]=\\\"sorts.get('createdAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.createdAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.updated-at' | translate\\\"\\r\\n        id=\\\"updated-at\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n        [sort]=\\\"sorts.get('updatedAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.updatedAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.name' | translate\\\"\\r\\n        id=\\\"name\\\"\\r\\n        [optional]=\\\"false\\\"\\r\\n        [sort]=\\\"sorts.get('name')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            <a class=\\\"button-ghost\\\" [routerLink]=\\\"['./', promotion.id]\\\"\\r\\n                ><span> {{ promotion.name }}</span>\\r\\n                <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n            </a>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.enabled' | translate\\\" id=\\\"enabled\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            <vdr-chip *ngIf=\\\"promotion.enabled\\\" colorType=\\\"success\\\">{{\\r\\n                'common.enabled' | translate\\r\\n            }}</vdr-chip>\\r\\n            <vdr-chip *ngIf=\\\"!promotion.enabled\\\" colorType=\\\"warning\\\">{{\\r\\n                'common.disabled' | translate\\r\\n            }}</vdr-chip>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.coupon-code' | translate\\\"\\r\\n        id=\\\"coupon-code\\\"\\r\\n        [sort]=\\\"sorts.get('couponCode')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.couponCode }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.starts-at' | translate\\\"\\r\\n        id=\\\"starts-at\\\"\\r\\n        [sort]=\\\"sorts.get('startsAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.startsAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'marketing.ends-at' | translate\\\" id=\\\"ends-at\\\" [sort]=\\\"sorts.get('endsAt')\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.endsAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.per-customer-limit' | translate\\\"\\r\\n        id=\\\"per-customer-limit\\\"\\r\\n        [sort]=\\\"sorts.get('perCustomerUsageLimit')\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.perCustomerUsageLimit }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.usage-limit' | translate\\\"\\r\\n        id=\\\"usage-limit\\\"\\r\\n        [sort]=\\\"sorts.get('usageLimit')\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.usageLimit }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-custom-field-column\\r\\n        *ngFor=\\\"let customField of customFields\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n        [sorts]=\\\"sorts\\\"\\r\\n    />\\r\\n</vdr-data-table-2>\\r\\n\",\n      styles: [\".search-form{padding:0}.search-input{margin:6px 8px 0 0;min-width:200px}\\n\"]\n    }]\n  }], () => [], null);\n})();\nconst createRoutes = pageService => [{\n  path: 'promotions',\n  component: PageComponent,\n  data: {\n    locationId: 'promotion-list',\n    breadcrumb: marker('breadcrumb.promotions')\n  },\n  children: pageService.getPageTabRoutes('promotion-list')\n}, {\n  path: 'promotions/:id',\n  component: PageComponent,\n  data: {\n    locationId: 'promotion-detail',\n    breadcrumb: {\n      label: marker('breadcrumb.promotions'),\n      link: ['../', 'promotions']\n    }\n  },\n  children: pageService.getPageTabRoutes('promotion-detail')\n}];\nfunction promotionBreadcrumb(data, params) {\n  return detailBreadcrumb({\n    entity: data.entity,\n    id: params.id,\n    breadcrumbKey: 'breadcrumb.promotions',\n    getName: promotion => promotion.name,\n    route: 'promotions'\n  });\n}\nclass MarketingModule {\n  static {\n    this.hasRegisteredTabsAndBulkActions = false;\n  }\n  constructor(bulkActionRegistryService, pageService) {\n    if (MarketingModule.hasRegisteredTabsAndBulkActions) {\n      return;\n    }\n    bulkActionRegistryService.registerBulkAction(assignPromotionsToChannelBulkAction);\n    bulkActionRegistryService.registerBulkAction(duplicatePromotionsBulkAction);\n    bulkActionRegistryService.registerBulkAction(removePromotionsFromChannelBulkAction);\n    bulkActionRegistryService.registerBulkAction(deletePromotionsBulkAction);\n    pageService.registerPageTab({\n      priority: 0,\n      location: 'promotion-list',\n      tab: marker('breadcrumb.promotions'),\n      route: '',\n      component: PromotionListComponent\n    });\n    pageService.registerPageTab({\n      priority: 0,\n      location: 'promotion-detail',\n      tab: marker('marketing.promotion'),\n      route: '',\n      component: detailComponentWithResolver({\n        component: PromotionDetailComponent,\n        query: GetPromotionDetailDocument,\n        entityKey: 'promotion',\n        getBreadcrumbs: entity => [{\n          label: entity ? entity.name : marker('marketing.create-new-promotion'),\n          link: [entity?.id]\n        }]\n      })\n    });\n    MarketingModule.hasRegisteredTabsAndBulkActions = true;\n  }\n  static {\n    this.ɵfac = function MarketingModule_Factory(t) {\n      return new (t || MarketingModule)(i0.ɵɵinject(i1.BulkActionRegistryService), i0.ɵɵinject(i1.PageService));\n    };\n  }\n  static {\n    this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: MarketingModule\n    });\n  }\n  static {\n    this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n      providers: [{\n        provide: ROUTES,\n        useFactory: pageService => createRoutes(pageService),\n        multi: true,\n        deps: [PageService]\n      }],\n      imports: [SharedModule, RouterModule.forChild([]), SharedModule, SharedModule]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MarketingModule, [{\n    type: NgModule,\n    args: [{\n      imports: [SharedModule, RouterModule.forChild([]), SharedModule, AsyncPipe, SharedModule],\n      providers: [{\n        provide: ROUTES,\n        useFactory: pageService => createRoutes(pageService),\n        multi: true,\n        deps: [PageService]\n      }],\n      declarations: [PromotionListComponent, PromotionDetailComponent]\n    }]\n  }], () => [{\n    type: i1.BulkActionRegistryService\n  }, {\n    type: i1.PageService\n  }], null);\n})();\n\n// This file was generated by the build-public-api.ts script\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GET_PROMOTION_DETAIL, GET_PROMOTION_LIST, MarketingModule, PromotionDetailComponent, PromotionListComponent, assignPromotionsToChannelBulkAction, createRoutes, deletePromotionsBulkAction, duplicatePromotionsBulkAction, promotionBreadcrumb, removePromotionsFromChannelBulkAction };","map":{"version":3,"names":["i0","Component","ChangeDetectionStrategy","NgModule","i2","Validators","marker","i1","PROMOTION_FRAGMENT","TypedBaseDetailComponent","getCustomFieldsDefaults","createUpdatedTranslatable","findTranslation","encodeConfigArgValue","getConfigArgValue","getDefaultConfigArgValue","createBulkDeleteAction","Permission","createBulkAssignToChannelAction","AssignPromotionsToChannelDocument","createBulkRemoveFromChannelAction","RemovePromotionsFromChannelDocument","ModalService","DuplicateEntityDialogComponent","TypedBaseListComponent","GetPromotionListDocument","LogicalOperator","PageComponent","detailBreadcrumb","detailComponentWithResolver","GetPromotionDetailDocument","SharedModule","PageService","gql","combineLatest","take","mergeMap","map","i3","i4","AsyncPipe","i5","i3$1","ROUTES","RouterModule","PromotionDetailComponent_button_10_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","PromotionDetailComponent_button_10_Template_button_click_0_listener","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","create","ɵɵtext","ɵɵpipe","ɵɵelementEnd","ɵɵproperty","saveButtonEnabled","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","PromotionDetailComponent_ng_template_12_button_0_Template","_r4","PromotionDetailComponent_ng_template_12_button_0_Template_button_click_0_listener","save","PromotionDetailComponent_ng_template_12_Template","ɵɵtemplate","PromotionDetailComponent_vdr_card_18_Template","ɵɵelement","ɵɵtextInterpolate","PromotionDetailComponent_vdr_card_19_Template","entity_r5","ngIf","PromotionDetailComponent_vdr_card_51_Template","customFields","detailForm","get","PromotionDetailComponent_div_55_Template","_r6","PromotionDetailComponent_div_55_Template_vdr_configurable_input_remove_1_listener","$event","removeCondition","condition_r7","$implicit","i_r8","index","getConditionDefinition","PromotionDetailComponent_vdr_dropdown_57_button_6_Template","_r9","PromotionDetailComponent_vdr_dropdown_57_button_6_Template_button_click_0_listener","condition_r10","addCondition","description","PromotionDetailComponent_vdr_dropdown_57_Template","getAvailableConditions","PromotionDetailComponent_div_60_Template","_r11","PromotionDetailComponent_div_60_Template_vdr_configurable_input_remove_1_listener","removeAction","action_r12","i_r13","getActionDefinition","PromotionDetailComponent_vdr_dropdown_62_button_6_Template","_r14","PromotionDetailComponent_vdr_dropdown_62_button_6_Template_button_click_0_listener","action_r15","addAction","PromotionDetailComponent_vdr_dropdown_62_Template","getAvailableActions","_c0","_c1","a0","PromotionListComponent_a_8_Template","ɵɵpureFunction0","PromotionListComponent_ng_template_20_Template","promotion_r1","item","id","PromotionListComponent_ng_template_23_Template","promotion_r2","ɵɵpipeBind2","createdAt","PromotionListComponent_ng_template_26_Template","promotion_r3","updatedAt","PromotionListComponent_ng_template_29_Template","promotion_r4","ɵɵpureFunction1","name","PromotionListComponent_ng_template_32_vdr_chip_0_Template","PromotionListComponent_ng_template_32_vdr_chip_1_Template","PromotionListComponent_ng_template_32_Template","promotion_r5","enabled","PromotionListComponent_ng_template_35_Template","promotion_r6","couponCode","PromotionListComponent_ng_template_38_Template","promotion_r7","startsAt","PromotionListComponent_ng_template_41_Template","promotion_r8","endsAt","PromotionListComponent_ng_template_44_Template","promotion_r9","perCustomerUsageLimit","PromotionListComponent_ng_template_47_Template","promotion_r10","usageLimit","PromotionListComponent_vdr_dt2_custom_field_column_48_Template","customField_r11","ctx_r11","sorts","GET_PROMOTION_DETAIL","PromotionDetailComponent","constructor","changeDetector","dataService","formBuilder","notificationService","getCustomFieldConfig","group","required","conditions","array","actions","allConditions","allActions","ngOnInit","init","promotion","getPromotionActionsAndConditions","single$","subscribe","data","promotionActions","promotionConditions","markForCheck","ngOnDestroy","destroy","filter","o","find","c","code","condition","a","action","dirty","valid","length","value","addOperation","markAsDirty","removeOperation","formArrayOf","key","input","getUpdatedPromotion","translations","languageCode","createPromotion","__typename","success","entity","markAsPristine","router","navigate","relativeTo","route","error","message","err","entity$","languageCode$","pipe","paymentMethod","updatePromotion","formGroup","formValue","translatable","updatedFields","customFieldConfig","defaultTranslation","mapOperationsToInputs","setFormValues","currentTranslation","patchValue","forEach","setCustomFieldFormValues","operations","formValueOperations","i","arguments","Object","values","args","j","operation","operationsArray","collection","findIndex","argsHash","reduce","output","arg","getDefaultArgValue","push","control","argName","def","argDef","Error","removeAt","splice","ɵfac","PromotionDetailComponent_Factory","t","ɵɵdirectiveInject","ChangeDetectorRef","DataService","FormBuilder","NotificationService","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","PromotionDetailComponent_Template","_r1","PromotionDetailComponent_Template_vdr_language_selector_languageCodeChange_4_listener","setLanguage","ɵɵtemplateRefExtractor","updateButton_r16","ɵɵreference","isNew$","availableLanguages$","dependencies","ClrIconCustomTag","ClrLabel","ClrCheckbox","ClrCheckboxWrapper","NgForOf","NgIf","ɵNgNoValidate","DefaultValueAccessor","NumberValueAccessor","CheckboxControlValueAccessor","NgControlStatus","NgControlStatusGroup","MinValidator","MaxValidator","FormGroupDirective","FormControlName","FormGroupName","FormArrayName","ActionBarComponent","ActionBarLeftComponent","ActionBarRightComponent","ActionBarDropdownMenuComponent","ConfigurableInputComponent","FormFieldComponent","FormFieldControlDirective","LanguageSelectorComponent","RichTextEditorComponent","DropdownComponent","DropdownMenuComponent","DropdownTriggerDirective","DropdownItemDirective","IfPermissionsDirective","ActionBarItemsComponent","DatetimePickerComponent","TabbedCustomFieldsComponent","CustomDetailComponentHostComponent","PageBlockComponent","PageEntityInfoComponent","PageDetailLayoutComponent","PageDetailSidebarComponent","CardComponent","TranslatePipe","HasPermissionPipe","styles","changeDetection","ngDevMode","ɵsetClassMetadata","selector","OnPush","ASSIGN_PROMOTIONS_TO_CHANNEL","REMOVE_PROMOTIONS_FROM_CHANNEL","deletePromotionsBulkAction","location","requiresPermission","DeletePromotion","getItemName","bulkDelete","ids","deletePromotions","res","assignPromotionsToChannelBulkAction","UpdatePromotion","bulkAssignToChannel","promotionIds","channelIds","channelId","mutate","assignPromotionsToChannel","removePromotionsFromChannelBulkAction","DeleteCatalog","bulkRemoveFromChannel","removePromotionsFromChannel","duplicatePromotionsBulkAction","label","icon","onClick","injector","selection","hostComponent","clearSelection","modalService","fromComponent","locals","entities","entityName","title","getEntityName","result","refresh","GET_PROMOTION_LIST","PromotionListComponent","dataTableListId","filters","createFilterCollection","addIdFilter","addDateFilters","addFilters","kind","filterField","addCustomFieldFilters","connectToRoute","createSortCollection","defaultSort","addSorts","addCustomFieldSorts","configure","document","getItems","promotions","setVariables","skip","createQueryOptions","searchTermControl","refreshListOnChanges","valueChanges","searchTerm","createFilterInput","sort","createSortInput","filterOperator","AND","contains","OR","options","PromotionListComponent_Factory","PromotionListComponent_Template","PromotionListComponent_Template_vdr_language_selector_languageCodeChange_3_listener","PromotionListComponent_Template_vdr_data_table_2_pageChange_10_listener","setPageNumber","PromotionListComponent_Template_vdr_data_table_2_itemsPerPageChange_10_listener","setItemsPerPage","PromotionListComponent_Template_vdr_data_table_2_visibleColumnsChange_10_listener","setVisibleColumns","contentLanguage$","items$","itemsPerPage$","totalItems$","currentPage$","selectionManager","RouterLink","ChipComponent","BulkActionMenuComponent","DataTable2Component","DataTable2ColumnComponent","DataTable2SearchComponent","DataTableCustomFieldColumnComponent","LocaleDatePipe","createRoutes","pageService","path","component","locationId","breadcrumb","children","getPageTabRoutes","link","promotionBreadcrumb","params","breadcrumbKey","getName","MarketingModule","hasRegisteredTabsAndBulkActions","bulkActionRegistryService","registerBulkAction","registerPageTab","priority","tab","query","entityKey","getBreadcrumbs","MarketingModule_Factory","ɵɵinject","BulkActionRegistryService","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","providers","provide","useFactory","multi","deps","imports","forChild","declarations"],"sources":["/Users/peluche/Documents/NoursStuffs/CerisePeyi/dev/2k24/last/vendure-one-click-deploy/node_modules/@vendure/admin-ui/fesm2022/vendure-admin-ui-marketing.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport * as i2 from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { marker } from '@biesbjerg/ngx-translate-extract-marker';\nimport * as i1 from '@vendure/admin-ui/core';\nimport { PROMOTION_FRAGMENT, TypedBaseDetailComponent, getCustomFieldsDefaults, createUpdatedTranslatable, findTranslation, encodeConfigArgValue, getConfigArgValue, getDefaultConfigArgValue, createBulkDeleteAction, Permission, createBulkAssignToChannelAction, AssignPromotionsToChannelDocument, createBulkRemoveFromChannelAction, RemovePromotionsFromChannelDocument, ModalService, DuplicateEntityDialogComponent, TypedBaseListComponent, GetPromotionListDocument, LogicalOperator, PageComponent, detailBreadcrumb, detailComponentWithResolver, GetPromotionDetailDocument, SharedModule, PageService } from '@vendure/admin-ui/core';\nimport { gql } from 'apollo-angular';\nimport { combineLatest } from 'rxjs';\nimport { take, mergeMap, map } from 'rxjs/operators';\nimport * as i3 from '@clr/angular';\nimport * as i4 from '@angular/common';\nimport { AsyncPipe } from '@angular/common';\nimport * as i5 from '@ngx-translate/core';\nimport * as i3$1 from '@angular/router';\nimport { ROUTES, RouterModule } from '@angular/router';\n\nconst GET_PROMOTION_DETAIL = gql `\r\n    query GetPromotionDetail($id: ID!) {\r\n        promotion(id: $id) {\r\n            ...Promotion\r\n        }\r\n    }\r\n    ${PROMOTION_FRAGMENT}\r\n`;\nclass PromotionDetailComponent extends TypedBaseDetailComponent {\n    constructor(changeDetector, dataService, formBuilder, notificationService) {\n        super();\n        this.changeDetector = changeDetector;\n        this.dataService = dataService;\n        this.formBuilder = formBuilder;\n        this.notificationService = notificationService;\n        this.customFields = this.getCustomFieldConfig('Promotion');\n        this.detailForm = this.formBuilder.group({\n            name: ['', Validators.required],\n            description: '',\n            enabled: true,\n            couponCode: null,\n            perCustomerUsageLimit: null,\n            usageLimit: null,\n            startsAt: null,\n            endsAt: null,\n            conditions: this.formBuilder.array([]),\n            actions: this.formBuilder.array([]),\n            customFields: this.formBuilder.group(getCustomFieldsDefaults(this.customFields)),\n        });\n        this.conditions = [];\n        this.actions = [];\n        this.allConditions = [];\n        this.allActions = [];\n        this.customFields = this.getCustomFieldConfig('Promotion');\n    }\n    ngOnInit() {\n        this.init();\n        this.dataService.promotion.getPromotionActionsAndConditions().single$.subscribe(data => {\n            this.allActions = data.promotionActions;\n            this.allConditions = data.promotionConditions;\n            this.changeDetector.markForCheck();\n        });\n    }\n    ngOnDestroy() {\n        this.destroy();\n    }\n    getAvailableConditions() {\n        return this.allConditions.filter(o => !this.conditions.find(c => c.code === o.code));\n    }\n    getConditionDefinition(condition) {\n        return this.allConditions.find(c => c.code === condition.code);\n    }\n    getAvailableActions() {\n        return this.allActions.filter(o => !this.actions.find(a => a.code === o.code));\n    }\n    getActionDefinition(action) {\n        return this.allActions.find(c => c.code === action.code);\n    }\n    saveButtonEnabled() {\n        return !!(this.detailForm.dirty &&\n            this.detailForm.valid &&\n            (this.conditions.length !== 0 || this.detailForm.value.couponCode) &&\n            this.actions.length !== 0);\n    }\n    addCondition(condition) {\n        this.addOperation('conditions', condition);\n        this.detailForm.markAsDirty();\n    }\n    addAction(action) {\n        this.addOperation('actions', action);\n        this.detailForm.markAsDirty();\n    }\n    removeCondition(condition) {\n        this.removeOperation('conditions', condition);\n        this.detailForm.markAsDirty();\n    }\n    removeAction(action) {\n        this.removeOperation('actions', action);\n        this.detailForm.markAsDirty();\n    }\n    formArrayOf(key) {\n        return this.detailForm.get(key);\n    }\n    create() {\n        if (!this.detailForm.dirty) {\n            return;\n        }\n        const input = this.getUpdatedPromotion({\n            id: '',\n            createdAt: '',\n            updatedAt: '',\n            startsAt: '',\n            endsAt: '',\n            name: '',\n            description: '',\n            couponCode: null,\n            perCustomerUsageLimit: null,\n            usageLimit: null,\n            enabled: false,\n            conditions: [],\n            actions: [],\n            translations: [],\n        }, this.detailForm, this.languageCode);\n        this.dataService.promotion.createPromotion(input).subscribe(({ createPromotion }) => {\n            switch (createPromotion.__typename) {\n                case 'Promotion':\n                    this.notificationService.success(marker('common.notify-create-success'), {\n                        entity: 'Promotion',\n                    });\n                    this.detailForm.markAsPristine();\n                    this.changeDetector.markForCheck();\n                    this.router.navigate(['../', createPromotion.id], { relativeTo: this.route });\n                    break;\n                case 'MissingConditionsError':\n                    this.notificationService.error(createPromotion.message);\n                    break;\n            }\n        }, err => {\n            this.notificationService.error(marker('common.notify-create-error'), {\n                entity: 'Promotion',\n            });\n        });\n    }\n    save() {\n        if (!this.detailForm.dirty) {\n            return;\n        }\n        combineLatest(this.entity$, this.languageCode$)\n            .pipe(take(1), mergeMap(([paymentMethod, languageCode]) => {\n            const input = this.getUpdatedPromotion(paymentMethod, this.detailForm, languageCode);\n            return this.dataService.promotion.updatePromotion(input);\n        }))\n            .subscribe(data => {\n            this.notificationService.success(marker('common.notify-update-success'), {\n                entity: 'Promotion',\n            });\n            this.detailForm.markAsPristine();\n            this.changeDetector.markForCheck();\n        }, err => {\n            this.notificationService.error(marker('common.notify-update-error'), {\n                entity: 'Promotion',\n            });\n        });\n    }\n    /**\n     * Given a PaymentMethod and the value of the detailForm, this method creates an updated copy of it which\n     * can then be persisted to the API.\n     */\n    getUpdatedPromotion(promotion, formGroup, languageCode) {\n        const formValue = formGroup.value;\n        const input = createUpdatedTranslatable({\n            translatable: promotion,\n            updatedFields: formValue,\n            customFieldConfig: this.customFields,\n            languageCode,\n            defaultTranslation: {\n                languageCode,\n                name: promotion.name || '',\n                description: promotion.description || '',\n            },\n        });\n        return {\n            ...input,\n            conditions: this.mapOperationsToInputs(this.conditions, formValue.conditions),\n            actions: this.mapOperationsToInputs(this.actions, formValue.actions),\n        };\n    }\n    /**\n     * Update the form values when the entity changes.\n     */\n    setFormValues(entity, languageCode) {\n        const currentTranslation = findTranslation(entity, languageCode);\n        this.detailForm.patchValue({\n            name: currentTranslation?.name,\n            description: currentTranslation?.description,\n            enabled: entity.enabled,\n            couponCode: entity.couponCode,\n            perCustomerUsageLimit: entity.perCustomerUsageLimit,\n            usageLimit: entity.usageLimit,\n            startsAt: entity.startsAt,\n            endsAt: entity.endsAt,\n        });\n        entity.conditions.forEach(o => {\n            this.addOperation('conditions', o);\n        });\n        entity.actions.forEach(o => this.addOperation('actions', o));\n        if (this.customFields.length) {\n            this.setCustomFieldFormValues(this.customFields, this.detailForm.get('customFields'), entity, currentTranslation);\n        }\n    }\n    /**\n     * Maps an array of conditions or actions to the input format expected by the GraphQL API.\n     */\n    mapOperationsToInputs(operations, formValueOperations) {\n        return operations.map((o, i) => ({\n            code: o.code,\n            arguments: Object.values(formValueOperations[i].args).map((value, j) => ({\n                name: o.args[j].name,\n                value: encodeConfigArgValue(value),\n            })),\n        }));\n    }\n    /**\n     * Adds a new condition or action to the promotion.\n     */\n    addOperation(key, operation) {\n        const operationsArray = this.formArrayOf(key);\n        const collection = key === 'conditions' ? this.conditions : this.actions;\n        const index = operationsArray.value.findIndex(o => o.code === operation.code);\n        if (index === -1) {\n            const argsHash = operation.args.reduce((output, arg) => ({\n                ...output,\n                [arg.name]: getConfigArgValue(arg.value) ?? this.getDefaultArgValue(key, operation, arg.name),\n            }), {});\n            operationsArray.push(this.formBuilder.control({\n                code: operation.code,\n                args: argsHash,\n            }));\n            collection.push({\n                code: operation.code,\n                args: operation.args.map(a => ({ name: a.name, value: getConfigArgValue(a.value) })),\n            });\n        }\n    }\n    getDefaultArgValue(key, operation, argName) {\n        const def = key === 'conditions'\n            ? this.allConditions.find(c => c.code === operation.code)\n            : this.allActions.find(a => a.code === operation.code);\n        if (def) {\n            const argDef = def.args.find(a => a.name === argName);\n            if (argDef) {\n                return getDefaultConfigArgValue(argDef);\n            }\n        }\n        throw new Error(`Could not determine default value for \"argName\"`);\n    }\n    /**\n     * Removes a condition or action from the promotion.\n     */\n    removeOperation(key, operation) {\n        const operationsArray = this.formArrayOf(key);\n        const collection = key === 'conditions' ? this.conditions : this.actions;\n        const index = operationsArray.value.findIndex(o => o.code === operation.code);\n        if (index !== -1) {\n            operationsArray.removeAt(index);\n            collection.splice(index, 1);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PromotionDetailComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.DataService }, { token: i2.FormBuilder }, { token: i1.NotificationService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: PromotionDetailComponent, selector: \"vdr-promotion-detail\", usesInheritance: true, ngImport: i0, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-left>\\r\\n            <div class=\\\"flex clr-align-items-center\\\">\\r\\n                <vdr-language-selector\\r\\n                    [disabled]=\\\"isNew$ | async\\\"\\r\\n                    [availableLanguageCodes]=\\\"availableLanguages$ | async\\\"\\r\\n                    [currentLanguageCode]=\\\"languageCode$ | async\\\"\\r\\n                    (languageCodeChange)=\\\"setLanguage($event)\\\"\\r\\n                ></vdr-language-selector>\\r\\n            </div>\\r\\n        </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"promotion-detail\\\" />\\r\\n            <button\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n                *ngIf=\\\"isNew$ | async; else updateButton\\\"\\r\\n                (click)=\\\"create()\\\"\\r\\n                [disabled]=\\\"!saveButtonEnabled()\\\"\\r\\n            >\\r\\n                {{ 'common.create' | translate }}\\r\\n            </button>\\r\\n            <ng-template #updateButton>\\r\\n                <button\\r\\n                    class=\\\"btn btn-primary\\\"\\r\\n                    (click)=\\\"save()\\\"\\r\\n                    *vdrIfPermissions=\\\"'UpdatePromotion'\\\"\\r\\n                    [disabled]=\\\"!saveButtonEnabled()\\\"\\r\\n                >\\r\\n                    {{ 'common.update' | translate }}\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"promotion-detail\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<form class=\\\"form\\\" [formGroup]=\\\"detailForm\\\">\\r\\n    <vdr-page-detail-layout>\\r\\n        <vdr-page-detail-sidebar>\\r\\n            <vdr-card *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                <clr-toggle-wrapper>\\r\\n                    <input type=\\\"checkbox\\\" clrToggle name=\\\"enabled\\\" formControlName=\\\"enabled\\\" />\\r\\n                    <label>{{ 'common.enabled' | translate }}</label>\\r\\n                </clr-toggle-wrapper>\\r\\n            </vdr-card>\\r\\n            <vdr-card *ngIf=\\\"entity$ | async as entity\\\">\\r\\n                <vdr-page-entity-info [entity]=\\\"entity\\\" />\\r\\n            </vdr-card>\\r\\n        </vdr-page-detail-sidebar>\\r\\n        <vdr-page-block>\\r\\n            <vdr-card>\\r\\n                <div class=\\\"form-grid\\\">\\r\\n                    <vdr-form-field [label]=\\\"'common.name' | translate\\\" for=\\\"name\\\">\\r\\n                        <input\\r\\n                            id=\\\"name\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            formControlName=\\\"name\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-rich-text-editor\\r\\n                        class=\\\"form-grid-span\\\"\\r\\n                        formControlName=\\\"description\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [label]=\\\"'common.description' | translate\\\"\\r\\n                    ></vdr-rich-text-editor>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.starts-at' | translate\\\" for=\\\"startsAt\\\">\\r\\n                        <vdr-datetime-picker formControlName=\\\"startsAt\\\"></vdr-datetime-picker>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.ends-at' | translate\\\" for=\\\"endsAt\\\">\\r\\n                        <vdr-datetime-picker formControlName=\\\"endsAt\\\"></vdr-datetime-picker>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.coupon-code' | translate\\\" for=\\\"couponCode\\\">\\r\\n                        <input\\r\\n                            id=\\\"couponCode\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            formControlName=\\\"couponCode\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"'marketing.per-customer-limit' | translate\\\"\\r\\n                        [tooltip]=\\\"'marketing.per-customer-limit-tooltip' | translate\\\"\\r\\n                        for=\\\"perCustomerUsageLimit\\\"\\r\\n                    >\\r\\n                        <input\\r\\n                            id=\\\"perCustomerUsageLimit\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"number\\\"\\r\\n                            min=\\\"1\\\"\\r\\n                            max=\\\"999\\\"\\r\\n                            formControlName=\\\"perCustomerUsageLimit\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"'marketing.usage-limit' | translate\\\"\\r\\n                        [tooltip]=\\\"'marketing.usage-limit-tooltip' | translate\\\"\\r\\n                        for=\\\"usageLimit\\\"\\r\\n                    >\\r\\n                        <input\\r\\n                            id=\\\"usageLimit\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"number\\\"\\r\\n                            min=\\\"1\\\"\\r\\n                            max=\\\"9999999\\\"\\r\\n                            formControlName=\\\"usageLimit\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n            <vdr-card\\r\\n                [title]=\\\"'common.custom-fields' | translate\\\"\\r\\n                formGroupName=\\\"customFields\\\"\\r\\n                *ngIf=\\\"customFields.length\\\"\\r\\n            >\\r\\n                <vdr-tabbed-custom-fields\\r\\n                    entityName=\\\"Promotion\\\"\\r\\n                    [customFields]=\\\"customFields\\\"\\r\\n                    [customFieldsFormGroup]=\\\"detailForm.get('customFields')\\\"\\r\\n                    [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                ></vdr-tabbed-custom-fields>\\r\\n            </vdr-card>\\r\\n\\r\\n            <vdr-custom-detail-component-host\\r\\n                locationId=\\\"promotion-detail\\\"\\r\\n                [entity$]=\\\"entity$\\\"\\r\\n                [detailForm]=\\\"detailForm\\\"\\r\\n            ></vdr-custom-detail-component-host>\\r\\n\\r\\n            <vdr-card [title]=\\\"'marketing.conditions' | translate\\\" formArrayName=\\\"conditions\\\">\\r\\n                <div *ngFor=\\\"let condition of conditions; index as i\\\">\\r\\n                    <vdr-configurable-input\\r\\n                        (remove)=\\\"removeCondition($event)\\\"\\r\\n                        [position]=\\\"i\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [operation]=\\\"condition\\\"\\r\\n                        [operationDefinition]=\\\"getConditionDefinition(condition)\\\"\\r\\n                        [formControlName]=\\\"i\\\"\\r\\n                    ></vdr-configurable-input>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <vdr-dropdown *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                        <button class=\\\"btn btn-outline\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                            {{ 'marketing.add-condition' | translate }}\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-left\\\">\\r\\n                            <button\\r\\n                                *ngFor=\\\"let condition of getAvailableConditions()\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                class=\\\"item-wrap\\\"\\r\\n                                (click)=\\\"addCondition(condition)\\\"\\r\\n                            >\\r\\n                                {{ condition.description }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n            <vdr-card [title]=\\\"'marketing.actions' | translate\\\" formArrayName=\\\"actions\\\">\\r\\n                <div *ngFor=\\\"let action of actions; index as i\\\">\\r\\n                    <vdr-configurable-input\\r\\n                        (remove)=\\\"removeAction($event)\\\"\\r\\n                        [position]=\\\"i\\\"\\r\\n                        [operation]=\\\"action\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [operationDefinition]=\\\"getActionDefinition(action)\\\"\\r\\n                        [formControlName]=\\\"i\\\"\\r\\n                    ></vdr-configurable-input>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <vdr-dropdown *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                        <button class=\\\"btn btn-outline\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                            {{ 'marketing.add-action' | translate }}\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-left\\\">\\r\\n                            <button\\r\\n                                *ngFor=\\\"let action of getAvailableActions()\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                class=\\\"item-wrap\\\"\\r\\n                                (click)=\\\"addAction(action)\\\"\\r\\n                            >\\r\\n                                {{ action.description }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n        </vdr-page-block>\\r\\n    </vdr-page-detail-layout>\\r\\n</form>\\r\\n\", styles: [\".item-wrap{white-space:normal}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i3.ClrCheckbox, selector: \"[clrCheckbox],[clrToggle]\" }, { kind: \"component\", type: i3.ClrCheckboxWrapper, selector: \"clr-checkbox-wrapper,clr-toggle-wrapper\" }, { kind: \"directive\", type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i2.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { kind: \"directive\", type: i2.MaxValidator, selector: \"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]\", inputs: [\"max\"] }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: i2.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }, { kind: \"directive\", type: i2.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { kind: \"component\", type: i1.ActionBarComponent, selector: \"vdr-action-bar\" }, { kind: \"component\", type: i1.ActionBarLeftComponent, selector: \"vdr-ab-left\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarRightComponent, selector: \"vdr-ab-right\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarDropdownMenuComponent, selector: \"vdr-action-bar-dropdown-menu\", inputs: [\"alwaysShow\"] }, { kind: \"component\", type: i1.ConfigurableInputComponent, selector: \"vdr-configurable-input\", inputs: [\"operation\", \"operationDefinition\", \"readonly\", \"removable\", \"position\", \"hideDescription\"], outputs: [\"remove\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"component\", type: i1.LanguageSelectorComponent, selector: \"vdr-language-selector\", inputs: [\"currentLanguageCode\", \"availableLanguageCodes\", \"disabled\"], outputs: [\"languageCodeChange\"] }, { kind: \"component\", type: i1.RichTextEditorComponent, selector: \"vdr-rich-text-editor\", inputs: [\"label\", \"readonly\"] }, { kind: \"component\", type: i1.DropdownComponent, selector: \"vdr-dropdown\", inputs: [\"manualToggle\"] }, { kind: \"component\", type: i1.DropdownMenuComponent, selector: \"vdr-dropdown-menu\", inputs: [\"vdrPosition\", \"customClasses\"] }, { kind: \"directive\", type: i1.DropdownTriggerDirective, selector: \"[vdrDropdownTrigger]\" }, { kind: \"directive\", type: i1.DropdownItemDirective, selector: \"[vdrDropdownItem]\" }, { kind: \"directive\", type: i1.IfPermissionsDirective, selector: \"[vdrIfPermissions]\", inputs: [\"vdrIfPermissions\", \"vdrIfPermissionsElse\"] }, { kind: \"component\", type: i1.ActionBarItemsComponent, selector: \"vdr-action-bar-items\" }, { kind: \"component\", type: i1.DatetimePickerComponent, selector: \"vdr-datetime-picker\", inputs: [\"yearRange\", \"weekStartDay\", \"timeGranularityInterval\", \"min\", \"max\", \"readonly\"] }, { kind: \"component\", type: i1.TabbedCustomFieldsComponent, selector: \"vdr-tabbed-custom-fields\", inputs: [\"entityName\", \"customFields\", \"customFieldsFormGroup\", \"readonly\", \"compact\", \"showLabel\"] }, { kind: \"component\", type: i1.CustomDetailComponentHostComponent, selector: \"vdr-custom-detail-component-host\", inputs: [\"locationId\", \"entity$\", \"detailForm\"] }, { kind: \"component\", type: i1.PageBlockComponent, selector: \"vdr-page-block\" }, { kind: \"component\", type: i1.PageEntityInfoComponent, selector: \"vdr-page-entity-info\", inputs: [\"entity\"] }, { kind: \"component\", type: i1.PageDetailLayoutComponent, selector: \"vdr-page-detail-layout\" }, { kind: \"component\", type: i1.PageDetailSidebarComponent, selector: \"vdr-page-detail-sidebar\" }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"pipe\", type: i4.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i5.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.HasPermissionPipe, name: \"hasPermission\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PromotionDetailComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-promotion-detail', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-left>\\r\\n            <div class=\\\"flex clr-align-items-center\\\">\\r\\n                <vdr-language-selector\\r\\n                    [disabled]=\\\"isNew$ | async\\\"\\r\\n                    [availableLanguageCodes]=\\\"availableLanguages$ | async\\\"\\r\\n                    [currentLanguageCode]=\\\"languageCode$ | async\\\"\\r\\n                    (languageCodeChange)=\\\"setLanguage($event)\\\"\\r\\n                ></vdr-language-selector>\\r\\n            </div>\\r\\n        </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"promotion-detail\\\" />\\r\\n            <button\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n                *ngIf=\\\"isNew$ | async; else updateButton\\\"\\r\\n                (click)=\\\"create()\\\"\\r\\n                [disabled]=\\\"!saveButtonEnabled()\\\"\\r\\n            >\\r\\n                {{ 'common.create' | translate }}\\r\\n            </button>\\r\\n            <ng-template #updateButton>\\r\\n                <button\\r\\n                    class=\\\"btn btn-primary\\\"\\r\\n                    (click)=\\\"save()\\\"\\r\\n                    *vdrIfPermissions=\\\"'UpdatePromotion'\\\"\\r\\n                    [disabled]=\\\"!saveButtonEnabled()\\\"\\r\\n                >\\r\\n                    {{ 'common.update' | translate }}\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"promotion-detail\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<form class=\\\"form\\\" [formGroup]=\\\"detailForm\\\">\\r\\n    <vdr-page-detail-layout>\\r\\n        <vdr-page-detail-sidebar>\\r\\n            <vdr-card *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                <clr-toggle-wrapper>\\r\\n                    <input type=\\\"checkbox\\\" clrToggle name=\\\"enabled\\\" formControlName=\\\"enabled\\\" />\\r\\n                    <label>{{ 'common.enabled' | translate }}</label>\\r\\n                </clr-toggle-wrapper>\\r\\n            </vdr-card>\\r\\n            <vdr-card *ngIf=\\\"entity$ | async as entity\\\">\\r\\n                <vdr-page-entity-info [entity]=\\\"entity\\\" />\\r\\n            </vdr-card>\\r\\n        </vdr-page-detail-sidebar>\\r\\n        <vdr-page-block>\\r\\n            <vdr-card>\\r\\n                <div class=\\\"form-grid\\\">\\r\\n                    <vdr-form-field [label]=\\\"'common.name' | translate\\\" for=\\\"name\\\">\\r\\n                        <input\\r\\n                            id=\\\"name\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            formControlName=\\\"name\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-rich-text-editor\\r\\n                        class=\\\"form-grid-span\\\"\\r\\n                        formControlName=\\\"description\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [label]=\\\"'common.description' | translate\\\"\\r\\n                    ></vdr-rich-text-editor>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.starts-at' | translate\\\" for=\\\"startsAt\\\">\\r\\n                        <vdr-datetime-picker formControlName=\\\"startsAt\\\"></vdr-datetime-picker>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.ends-at' | translate\\\" for=\\\"endsAt\\\">\\r\\n                        <vdr-datetime-picker formControlName=\\\"endsAt\\\"></vdr-datetime-picker>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'marketing.coupon-code' | translate\\\" for=\\\"couponCode\\\">\\r\\n                        <input\\r\\n                            id=\\\"couponCode\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            formControlName=\\\"couponCode\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"'marketing.per-customer-limit' | translate\\\"\\r\\n                        [tooltip]=\\\"'marketing.per-customer-limit-tooltip' | translate\\\"\\r\\n                        for=\\\"perCustomerUsageLimit\\\"\\r\\n                    >\\r\\n                        <input\\r\\n                            id=\\\"perCustomerUsageLimit\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"number\\\"\\r\\n                            min=\\\"1\\\"\\r\\n                            max=\\\"999\\\"\\r\\n                            formControlName=\\\"perCustomerUsageLimit\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"'marketing.usage-limit' | translate\\\"\\r\\n                        [tooltip]=\\\"'marketing.usage-limit-tooltip' | translate\\\"\\r\\n                        for=\\\"usageLimit\\\"\\r\\n                    >\\r\\n                        <input\\r\\n                            id=\\\"usageLimit\\\"\\r\\n                            [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                            type=\\\"number\\\"\\r\\n                            min=\\\"1\\\"\\r\\n                            max=\\\"9999999\\\"\\r\\n                            formControlName=\\\"usageLimit\\\"\\r\\n                        />\\r\\n                    </vdr-form-field>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n            <vdr-card\\r\\n                [title]=\\\"'common.custom-fields' | translate\\\"\\r\\n                formGroupName=\\\"customFields\\\"\\r\\n                *ngIf=\\\"customFields.length\\\"\\r\\n            >\\r\\n                <vdr-tabbed-custom-fields\\r\\n                    entityName=\\\"Promotion\\\"\\r\\n                    [customFields]=\\\"customFields\\\"\\r\\n                    [customFieldsFormGroup]=\\\"detailForm.get('customFields')\\\"\\r\\n                    [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                ></vdr-tabbed-custom-fields>\\r\\n            </vdr-card>\\r\\n\\r\\n            <vdr-custom-detail-component-host\\r\\n                locationId=\\\"promotion-detail\\\"\\r\\n                [entity$]=\\\"entity$\\\"\\r\\n                [detailForm]=\\\"detailForm\\\"\\r\\n            ></vdr-custom-detail-component-host>\\r\\n\\r\\n            <vdr-card [title]=\\\"'marketing.conditions' | translate\\\" formArrayName=\\\"conditions\\\">\\r\\n                <div *ngFor=\\\"let condition of conditions; index as i\\\">\\r\\n                    <vdr-configurable-input\\r\\n                        (remove)=\\\"removeCondition($event)\\\"\\r\\n                        [position]=\\\"i\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [operation]=\\\"condition\\\"\\r\\n                        [operationDefinition]=\\\"getConditionDefinition(condition)\\\"\\r\\n                        [formControlName]=\\\"i\\\"\\r\\n                    ></vdr-configurable-input>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <vdr-dropdown *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                        <button class=\\\"btn btn-outline\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                            {{ 'marketing.add-condition' | translate }}\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-left\\\">\\r\\n                            <button\\r\\n                                *ngFor=\\\"let condition of getAvailableConditions()\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                class=\\\"item-wrap\\\"\\r\\n                                (click)=\\\"addCondition(condition)\\\"\\r\\n                            >\\r\\n                                {{ condition.description }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n            <vdr-card [title]=\\\"'marketing.actions' | translate\\\" formArrayName=\\\"actions\\\">\\r\\n                <div *ngFor=\\\"let action of actions; index as i\\\">\\r\\n                    <vdr-configurable-input\\r\\n                        (remove)=\\\"removeAction($event)\\\"\\r\\n                        [position]=\\\"i\\\"\\r\\n                        [operation]=\\\"action\\\"\\r\\n                        [readonly]=\\\"!('UpdatePromotion' | hasPermission)\\\"\\r\\n                        [operationDefinition]=\\\"getActionDefinition(action)\\\"\\r\\n                        [formControlName]=\\\"i\\\"\\r\\n                    ></vdr-configurable-input>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <vdr-dropdown *vdrIfPermissions=\\\"'UpdatePromotion'\\\">\\r\\n                        <button class=\\\"btn btn-outline\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                            {{ 'marketing.add-action' | translate }}\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-left\\\">\\r\\n                            <button\\r\\n                                *ngFor=\\\"let action of getAvailableActions()\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                class=\\\"item-wrap\\\"\\r\\n                                (click)=\\\"addAction(action)\\\"\\r\\n                            >\\r\\n                                {{ action.description }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-card>\\r\\n        </vdr-page-block>\\r\\n    </vdr-page-detail-layout>\\r\\n</form>\\r\\n\", styles: [\".item-wrap{white-space:normal}\\n\"] }]\n        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }, { type: i1.DataService }, { type: i2.FormBuilder }, { type: i1.NotificationService }] });\n\nconst ASSIGN_PROMOTIONS_TO_CHANNEL = gql `\r\n    mutation AssignPromotionsToChannel($input: AssignPromotionsToChannelInput!) {\r\n        assignPromotionsToChannel(input: $input) {\r\n            id\r\n            name\r\n        }\r\n    }\r\n`;\nconst REMOVE_PROMOTIONS_FROM_CHANNEL = gql `\r\n    mutation RemovePromotionsFromChannel($input: RemovePromotionsFromChannelInput!) {\r\n        removePromotionsFromChannel(input: $input) {\r\n            id\r\n            name\r\n        }\r\n    }\r\n`;\nconst deletePromotionsBulkAction = createBulkDeleteAction({\n    location: 'promotion-list',\n    requiresPermission: Permission.DeletePromotion,\n    getItemName: item => item.name,\n    bulkDelete: (dataService, ids) => dataService.promotion.deletePromotions(ids).pipe(map(res => res.deletePromotions)),\n});\nconst assignPromotionsToChannelBulkAction = createBulkAssignToChannelAction({\n    location: 'promotion-list',\n    requiresPermission: Permission.UpdatePromotion,\n    getItemName: item => item.name,\n    bulkAssignToChannel: (dataService, promotionIds, channelIds) => {\n        return channelIds.map(channelId => dataService\n            .mutate(AssignPromotionsToChannelDocument, {\n            input: {\n                channelId,\n                promotionIds,\n            },\n        })\n            .pipe(map(res => res.assignPromotionsToChannel)));\n    },\n});\nconst removePromotionsFromChannelBulkAction = createBulkRemoveFromChannelAction({\n    location: 'promotion-list',\n    requiresPermission: Permission.DeleteCatalog,\n    getItemName: item => item.name,\n    bulkRemoveFromChannel: (dataService, promotionIds, channelId) => dataService\n        .mutate(RemovePromotionsFromChannelDocument, {\n        input: {\n            channelId,\n            promotionIds,\n        },\n    })\n        .pipe(map(res => res.removePromotionsFromChannel)),\n});\nconst duplicatePromotionsBulkAction = {\n    location: 'promotion-list',\n    label: marker('common.duplicate'),\n    icon: 'copy',\n    onClick: ({ injector, selection, hostComponent, clearSelection }) => {\n        const modalService = injector.get(ModalService);\n        modalService\n            .fromComponent((DuplicateEntityDialogComponent), {\n            locals: {\n                entities: selection,\n                entityName: 'Promotion',\n                title: marker('marketing.duplicate-promotions'),\n                getEntityName: entity => entity.name,\n            },\n        })\n            .subscribe(result => {\n            if (result) {\n                clearSelection();\n                hostComponent.refresh();\n            }\n        });\n    },\n};\n\nconst GET_PROMOTION_LIST = gql `\r\n    query GetPromotionList($options: PromotionListOptions) {\r\n        promotions(options: $options) {\r\n            items {\r\n                ...Promotion\r\n            }\r\n            totalItems\r\n        }\r\n    }\r\n    ${PROMOTION_FRAGMENT}\r\n`;\nclass PromotionListComponent extends TypedBaseListComponent {\n    constructor() {\n        super();\n        this.dataTableListId = 'promotion-list';\n        this.customFields = this.getCustomFieldConfig('Promotion');\n        this.filters = this.createFilterCollection()\n            .addIdFilter()\n            .addDateFilters()\n            .addFilters([\n            {\n                name: 'startsAt',\n                type: { kind: 'dateRange' },\n                label: marker('marketing.starts-at'),\n                filterField: 'startsAt',\n            },\n            {\n                name: 'endsAt',\n                type: { kind: 'dateRange' },\n                label: marker('marketing.ends-at'),\n                filterField: 'endsAt',\n            },\n            {\n                name: 'enabled',\n                type: { kind: 'boolean' },\n                label: marker('common.enabled'),\n                filterField: 'enabled',\n            },\n            {\n                name: 'name',\n                type: { kind: 'text' },\n                label: marker('common.name'),\n                filterField: 'name',\n            },\n            {\n                name: 'couponCode',\n                type: { kind: 'text' },\n                label: marker('marketing.coupon-code'),\n                filterField: 'couponCode',\n            },\n            {\n                name: 'desc',\n                type: { kind: 'text' },\n                label: marker('common.description'),\n                filterField: 'description',\n            },\n            {\n                name: 'perCustomerUsageLimit',\n                type: { kind: 'number' },\n                label: marker('marketing.per-customer-limit'),\n                filterField: 'perCustomerUsageLimit',\n            },\n            {\n                name: 'usageLimit',\n                type: { kind: 'number' },\n                label: marker('marketing.usage-limit'),\n                filterField: 'usageLimit',\n            },\n        ])\n            .addCustomFieldFilters(this.customFields)\n            .connectToRoute(this.route);\n        this.sorts = this.createSortCollection()\n            .defaultSort('createdAt', 'DESC')\n            .addSorts([\n            { name: 'createdAt' },\n            { name: 'updatedAt' },\n            { name: 'startsAt' },\n            { name: 'endsAt' },\n            { name: 'name' },\n            { name: 'couponCode' },\n            { name: 'perCustomerUsageLimit' },\n            { name: 'usageLimit' },\n        ])\n            .addCustomFieldSorts(this.customFields)\n            .connectToRoute(this.route);\n        super.configure({\n            document: GetPromotionListDocument,\n            getItems: data => data.promotions,\n            setVariables: (skip, take) => this.createQueryOptions(skip, take, this.searchTermControl.value),\n            refreshListOnChanges: [this.filters.valueChanges, this.sorts.valueChanges],\n        });\n    }\n    createQueryOptions(skip, take, searchTerm) {\n        const filter = this.filters.createFilterInput();\n        const sort = this.sorts.createSortInput();\n        let filterOperator = LogicalOperator.AND;\n        if (searchTerm) {\n            filter.couponCode = { contains: searchTerm };\n            filter.name = { contains: searchTerm };\n            filterOperator = LogicalOperator.OR;\n        }\n        return {\n            options: {\n                skip,\n                take,\n                filter,\n                filterOperator,\n                sort,\n            },\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PromotionListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: PromotionListComponent, selector: \"vdr-promotion-list\", usesInheritance: true, ngImport: i0, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-left>\\r\\n            <vdr-language-selector\\r\\n                [availableLanguageCodes]=\\\"availableLanguages$ | async\\\"\\r\\n                [currentLanguageCode]=\\\"contentLanguage$ | async\\\"\\r\\n                (languageCodeChange)=\\\"setLanguage($event)\\\"\\r\\n            />\\r\\n        </vdr-ab-left>\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"promotion-list\\\" />\\r\\n            <a class=\\\"btn btn-primary\\\" [routerLink]=\\\"['./create']\\\" *vdrIfPermissions=\\\"'CreatePromotion'\\\">\\r\\n                <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                {{ 'marketing.create-new-promotion' | translate }}\\r\\n            </a>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"promotion-list\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-data-table-2\\r\\n    [id]=\\\"dataTableListId\\\"\\r\\n    [items]=\\\"items$ | async\\\"\\r\\n    [itemsPerPage]=\\\"itemsPerPage$ | async\\\"\\r\\n    [totalItems]=\\\"totalItems$ | async\\\"\\r\\n    [currentPage]=\\\"currentPage$ | async\\\"\\r\\n    [filters]=\\\"filters\\\"\\r\\n    (pageChange)=\\\"setPageNumber($event)\\\"\\r\\n    (itemsPerPageChange)=\\\"setItemsPerPage($event)\\\"\\r\\n    (visibleColumnsChange)=\\\"setVisibleColumns($event)\\\"\\r\\n>\\r\\n    <vdr-bulk-action-menu\\r\\n        locationId=\\\"promotion-list\\\"\\r\\n        [hostComponent]=\\\"this\\\"\\r\\n        [selectionManager]=\\\"selectionManager\\\"\\r\\n    />\\r\\n    <vdr-dt2-search\\r\\n        [searchTermControl]=\\\"searchTermControl\\\"\\r\\n        [searchTermPlaceholder]=\\\"'marketing.search-by-name-or-coupon-code' | translate\\\"\\r\\n    />\\r\\n    <vdr-dt2-column [heading]=\\\"'common.id' | translate\\\" id=\\\"id\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">{{ promotion.id }}</ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.created-at' | translate\\\"\\r\\n        id=\\\"created-at\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n        [sort]=\\\"sorts.get('createdAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.createdAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.updated-at' | translate\\\"\\r\\n        id=\\\"updated-at\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n        [sort]=\\\"sorts.get('updatedAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.updatedAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.name' | translate\\\"\\r\\n        id=\\\"name\\\"\\r\\n        [optional]=\\\"false\\\"\\r\\n        [sort]=\\\"sorts.get('name')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            <a class=\\\"button-ghost\\\" [routerLink]=\\\"['./', promotion.id]\\\"\\r\\n                ><span> {{ promotion.name }}</span>\\r\\n                <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n            </a>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.enabled' | translate\\\" id=\\\"enabled\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            <vdr-chip *ngIf=\\\"promotion.enabled\\\" colorType=\\\"success\\\">{{\\r\\n                'common.enabled' | translate\\r\\n            }}</vdr-chip>\\r\\n            <vdr-chip *ngIf=\\\"!promotion.enabled\\\" colorType=\\\"warning\\\">{{\\r\\n                'common.disabled' | translate\\r\\n            }}</vdr-chip>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.coupon-code' | translate\\\"\\r\\n        id=\\\"coupon-code\\\"\\r\\n        [sort]=\\\"sorts.get('couponCode')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.couponCode }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.starts-at' | translate\\\"\\r\\n        id=\\\"starts-at\\\"\\r\\n        [sort]=\\\"sorts.get('startsAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.startsAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'marketing.ends-at' | translate\\\" id=\\\"ends-at\\\" [sort]=\\\"sorts.get('endsAt')\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.endsAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.per-customer-limit' | translate\\\"\\r\\n        id=\\\"per-customer-limit\\\"\\r\\n        [sort]=\\\"sorts.get('perCustomerUsageLimit')\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.perCustomerUsageLimit }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.usage-limit' | translate\\\"\\r\\n        id=\\\"usage-limit\\\"\\r\\n        [sort]=\\\"sorts.get('usageLimit')\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.usageLimit }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-custom-field-column\\r\\n        *ngFor=\\\"let customField of customFields\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n        [sorts]=\\\"sorts\\\"\\r\\n    />\\r\\n</vdr-data-table-2>\\r\\n\", styles: [\".search-form{padding:0}.search-input{margin:6px 8px 0 0;min-width:200px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3$1.RouterLink, selector: \"[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"state\", \"info\", \"relativeTo\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"routerLink\"] }, { kind: \"component\", type: i1.ActionBarComponent, selector: \"vdr-action-bar\" }, { kind: \"component\", type: i1.ActionBarLeftComponent, selector: \"vdr-ab-left\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarRightComponent, selector: \"vdr-ab-right\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarDropdownMenuComponent, selector: \"vdr-action-bar-dropdown-menu\", inputs: [\"alwaysShow\"] }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"component\", type: i1.LanguageSelectorComponent, selector: \"vdr-language-selector\", inputs: [\"currentLanguageCode\", \"availableLanguageCodes\", \"disabled\"], outputs: [\"languageCodeChange\"] }, { kind: \"directive\", type: i1.IfPermissionsDirective, selector: \"[vdrIfPermissions]\", inputs: [\"vdrIfPermissions\", \"vdrIfPermissionsElse\"] }, { kind: \"component\", type: i1.ActionBarItemsComponent, selector: \"vdr-action-bar-items\" }, { kind: \"component\", type: i1.BulkActionMenuComponent, selector: \"vdr-bulk-action-menu\", inputs: [\"locationId\", \"selectionManager\", \"hostComponent\"] }, { kind: \"component\", type: i1.DataTable2Component, selector: \"vdr-data-table-2\", inputs: [\"id\", \"items\", \"itemsPerPage\", \"currentPage\", \"totalItems\", \"emptyStateLabel\", \"filters\", \"activeIndex\"], outputs: [\"pageChange\", \"itemsPerPageChange\", \"visibleColumnsChange\"] }, { kind: \"component\", type: i1.DataTable2ColumnComponent, selector: \"vdr-dt2-column\", inputs: [\"id\", \"expand\", \"heading\", \"align\", \"sort\", \"optional\", \"hiddenByDefault\", \"orderable\"], exportAs: [\"row\"] }, { kind: \"component\", type: i1.DataTable2SearchComponent, selector: \"vdr-dt2-search\", inputs: [\"searchTermControl\", \"searchTermPlaceholder\"] }, { kind: \"component\", type: i1.DataTableCustomFieldColumnComponent, selector: \"vdr-dt2-custom-field-column\", inputs: [\"customField\", \"sorts\"], exportAs: [\"row\"] }, { kind: \"component\", type: i1.PageBlockComponent, selector: \"vdr-page-block\" }, { kind: \"pipe\", type: i4.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i5.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PromotionListComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-promotion-list', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-left>\\r\\n            <vdr-language-selector\\r\\n                [availableLanguageCodes]=\\\"availableLanguages$ | async\\\"\\r\\n                [currentLanguageCode]=\\\"contentLanguage$ | async\\\"\\r\\n                (languageCodeChange)=\\\"setLanguage($event)\\\"\\r\\n            />\\r\\n        </vdr-ab-left>\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"promotion-list\\\" />\\r\\n            <a class=\\\"btn btn-primary\\\" [routerLink]=\\\"['./create']\\\" *vdrIfPermissions=\\\"'CreatePromotion'\\\">\\r\\n                <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                {{ 'marketing.create-new-promotion' | translate }}\\r\\n            </a>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"promotion-list\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-data-table-2\\r\\n    [id]=\\\"dataTableListId\\\"\\r\\n    [items]=\\\"items$ | async\\\"\\r\\n    [itemsPerPage]=\\\"itemsPerPage$ | async\\\"\\r\\n    [totalItems]=\\\"totalItems$ | async\\\"\\r\\n    [currentPage]=\\\"currentPage$ | async\\\"\\r\\n    [filters]=\\\"filters\\\"\\r\\n    (pageChange)=\\\"setPageNumber($event)\\\"\\r\\n    (itemsPerPageChange)=\\\"setItemsPerPage($event)\\\"\\r\\n    (visibleColumnsChange)=\\\"setVisibleColumns($event)\\\"\\r\\n>\\r\\n    <vdr-bulk-action-menu\\r\\n        locationId=\\\"promotion-list\\\"\\r\\n        [hostComponent]=\\\"this\\\"\\r\\n        [selectionManager]=\\\"selectionManager\\\"\\r\\n    />\\r\\n    <vdr-dt2-search\\r\\n        [searchTermControl]=\\\"searchTermControl\\\"\\r\\n        [searchTermPlaceholder]=\\\"'marketing.search-by-name-or-coupon-code' | translate\\\"\\r\\n    />\\r\\n    <vdr-dt2-column [heading]=\\\"'common.id' | translate\\\" id=\\\"id\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">{{ promotion.id }}</ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.created-at' | translate\\\"\\r\\n        id=\\\"created-at\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n        [sort]=\\\"sorts.get('createdAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.createdAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.updated-at' | translate\\\"\\r\\n        id=\\\"updated-at\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n        [sort]=\\\"sorts.get('updatedAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.updatedAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'common.name' | translate\\\"\\r\\n        id=\\\"name\\\"\\r\\n        [optional]=\\\"false\\\"\\r\\n        [sort]=\\\"sorts.get('name')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            <a class=\\\"button-ghost\\\" [routerLink]=\\\"['./', promotion.id]\\\"\\r\\n                ><span> {{ promotion.name }}</span>\\r\\n                <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n            </a>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.enabled' | translate\\\" id=\\\"enabled\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            <vdr-chip *ngIf=\\\"promotion.enabled\\\" colorType=\\\"success\\\">{{\\r\\n                'common.enabled' | translate\\r\\n            }}</vdr-chip>\\r\\n            <vdr-chip *ngIf=\\\"!promotion.enabled\\\" colorType=\\\"warning\\\">{{\\r\\n                'common.disabled' | translate\\r\\n            }}</vdr-chip>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.coupon-code' | translate\\\"\\r\\n        id=\\\"coupon-code\\\"\\r\\n        [sort]=\\\"sorts.get('couponCode')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.couponCode }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.starts-at' | translate\\\"\\r\\n        id=\\\"starts-at\\\"\\r\\n        [sort]=\\\"sorts.get('startsAt')\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.startsAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'marketing.ends-at' | translate\\\" id=\\\"ends-at\\\" [sort]=\\\"sorts.get('endsAt')\\\">\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.endsAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.per-customer-limit' | translate\\\"\\r\\n        id=\\\"per-customer-limit\\\"\\r\\n        [sort]=\\\"sorts.get('perCustomerUsageLimit')\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.perCustomerUsageLimit }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n        [heading]=\\\"'marketing.usage-limit' | translate\\\"\\r\\n        id=\\\"usage-limit\\\"\\r\\n        [sort]=\\\"sorts.get('usageLimit')\\\"\\r\\n        [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-promotion=\\\"item\\\">\\r\\n            {{ promotion.usageLimit }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-custom-field-column\\r\\n        *ngFor=\\\"let customField of customFields\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n        [sorts]=\\\"sorts\\\"\\r\\n    />\\r\\n</vdr-data-table-2>\\r\\n\", styles: [\".search-form{padding:0}.search-input{margin:6px 8px 0 0;min-width:200px}\\n\"] }]\n        }], ctorParameters: () => [] });\n\nconst createRoutes = (pageService) => [\n    {\n        path: 'promotions',\n        component: PageComponent,\n        data: {\n            locationId: 'promotion-list',\n            breadcrumb: marker('breadcrumb.promotions'),\n        },\n        children: pageService.getPageTabRoutes('promotion-list'),\n    },\n    {\n        path: 'promotions/:id',\n        component: PageComponent,\n        data: {\n            locationId: 'promotion-detail',\n            breadcrumb: { label: marker('breadcrumb.promotions'), link: ['../', 'promotions'] },\n        },\n        children: pageService.getPageTabRoutes('promotion-detail'),\n    },\n];\nfunction promotionBreadcrumb(data, params) {\n    return detailBreadcrumb({\n        entity: data.entity,\n        id: params.id,\n        breadcrumbKey: 'breadcrumb.promotions',\n        getName: promotion => promotion.name,\n        route: 'promotions',\n    });\n}\n\nclass MarketingModule {\n    static { this.hasRegisteredTabsAndBulkActions = false; }\n    constructor(bulkActionRegistryService, pageService) {\n        if (MarketingModule.hasRegisteredTabsAndBulkActions) {\n            return;\n        }\n        bulkActionRegistryService.registerBulkAction(assignPromotionsToChannelBulkAction);\n        bulkActionRegistryService.registerBulkAction(duplicatePromotionsBulkAction);\n        bulkActionRegistryService.registerBulkAction(removePromotionsFromChannelBulkAction);\n        bulkActionRegistryService.registerBulkAction(deletePromotionsBulkAction);\n        pageService.registerPageTab({\n            priority: 0,\n            location: 'promotion-list',\n            tab: marker('breadcrumb.promotions'),\n            route: '',\n            component: PromotionListComponent,\n        });\n        pageService.registerPageTab({\n            priority: 0,\n            location: 'promotion-detail',\n            tab: marker('marketing.promotion'),\n            route: '',\n            component: detailComponentWithResolver({\n                component: PromotionDetailComponent,\n                query: GetPromotionDetailDocument,\n                entityKey: 'promotion',\n                getBreadcrumbs: entity => [\n                    {\n                        label: entity ? entity.name : marker('marketing.create-new-promotion'),\n                        link: [entity?.id],\n                    },\n                ],\n            }),\n        });\n        MarketingModule.hasRegisteredTabsAndBulkActions = true;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: MarketingModule, deps: [{ token: i1.BulkActionRegistryService }, { token: i1.PageService }], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"17.2.4\", ngImport: i0, type: MarketingModule, declarations: [PromotionListComponent, PromotionDetailComponent], imports: [SharedModule, i3$1.RouterModule, SharedModule, AsyncPipe, SharedModule] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: MarketingModule, providers: [\n            {\n                provide: ROUTES,\n                useFactory: (pageService) => createRoutes(pageService),\n                multi: true,\n                deps: [PageService],\n            },\n        ], imports: [SharedModule, RouterModule.forChild([]), SharedModule, SharedModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: MarketingModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [SharedModule, RouterModule.forChild([]), SharedModule, AsyncPipe, SharedModule],\n                    providers: [\n                        {\n                            provide: ROUTES,\n                            useFactory: (pageService) => createRoutes(pageService),\n                            multi: true,\n                            deps: [PageService],\n                        },\n                    ],\n                    declarations: [PromotionListComponent, PromotionDetailComponent],\n                }]\n        }], ctorParameters: () => [{ type: i1.BulkActionRegistryService }, { type: i1.PageService }] });\n\n// This file was generated by the build-public-api.ts script\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GET_PROMOTION_DETAIL, GET_PROMOTION_LIST, MarketingModule, PromotionDetailComponent, PromotionListComponent, assignPromotionsToChannelBulkAction, createRoutes, deletePromotionsBulkAction, duplicatePromotionsBulkAction, promotionBreadcrumb, removePromotionsFromChannelBulkAction };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}